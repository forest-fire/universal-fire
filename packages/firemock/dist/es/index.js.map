{"version":3,"file":"index.js","sources":["../../src/@types/other-types.ts","../../src/@types/query-types.ts","../../node_modules/@forest-fire/serialized-query/dist/es/BaseSerializer.js","../../node_modules/@forest-fire/serialized-query/dist/es/SerializedRealTimeQuery.js","../../node_modules/@forest-fire/serialized-query/dist/es/@types/serialized-types.js","../../src/util/atRandom.ts","../../src/util/dotify.ts","../../src/util/limitFilters.ts","../../node_modules/common-types/dist/es/index.js","../../src/util/other.ts","../../src/util/pluralize.ts","../../src/util/queryFilters.ts","../../node_modules/typed-conversions/dist/es/index.js","../../src/util/sortFns.ts","../../src/util/runQuery.ts","../../src/util/lodash-replacement/first.ts","../../src/util/lodash-replacement/get.ts","../../src/errors/FireMockError.ts","../../src/util/lodash-replacement/set.ts","../../src/rtdb/Query.ts","../../src/rtdb/Reference.ts","../../src/rtdb/SnapShot.ts","../../node_modules/fast-copy/dist/fast-copy.esm.js","../../node_modules/fast-equals/dist/fast-equals.esm.js","../../node_modules/deepmerge/dist/cjs.js","../../node_modules/firebase-key/dist/esm5/key-alphabet.js","../../node_modules/firebase-key/dist/esm5/text-random-string.js","../../node_modules/firebase-key/dist/esm5/key-key.js","../../src/auth/client-sdk/UserObject/notImplemented.ts","../../src/auth/state-mgmt/store.ts","../../src/auth/client-sdk/UserObject/updateEmail.ts","../../src/auth/client-sdk/UserObject/updatePassword.ts","../../src/auth/client-sdk/UserObject/updateProfile.ts","../../src/auth/client-sdk/UserObject/userProperties.ts","../../src/auth/client-sdk/UserObject/getIdToken.ts","../../src/auth/client-sdk/UserObject/getIdTokenResult.ts","../../src/auth/client-sdk/UserObject/index.ts","../../src/auth/client-sdk/completeUserCredential.ts","../../node_modules/email-validator/index.js","../../src/auth/client-sdk/authMockHelpers.ts","../../src/auth/client-sdk/implemented.ts","../../src/auth.ts","../../src/rtdb/store.ts","../../src/rtdb/listeners.ts","../../src/mocking/schema-helper.ts","../../src/mocking/MockHelper.ts","../../src/auth/client-sdk/AuthProviders/Auth.ts","../../src/auth/client-sdk/AuthProviders/EmailAuthProvider.ts","../../src/auth/client-sdk/AuthProviders/FacebookAuthProvider.ts","../../src/auth/client-sdk/AuthProviders/GithubAuthProvider.ts","../../src/auth/client-sdk/AuthProviders/GoogleAuthProvider.ts","../../src/auth/client-sdk/AuthProviders/TwitterAuthProvider.ts","../../src/auth/client-sdk/AuthProviders/SAMLAuthProvider.ts","../../src/auth/client-sdk/AuthProviders/OAuthProvider.ts","../../src/auth/client-sdk/AuthProviders/PhoneAuthProvider.ts","../../src/auth/client-sdk/AuthProviders/RecaptchaVerifier.ts","../../src/auth/client-sdk/AuthProviders/index.ts","../../src/auth/admin-sdk/implemented/users.ts","../../src/auth/admin-sdk/implemented/claims.ts","../../src/auth/admin-sdk/implemented/tokens.ts","../../src/auth/admin-sdk/implemented.ts","../../src/auth/admin-sdk/not-implemented.ts","../../src/auth/admin-sdk/index.ts","../../src/mocking/Mock.ts","../../src/mocking/Deployment.ts","../../src/mocking/fakerInitialiation.ts","../../src/mocking/Schema.ts","../../src/mocking/Queue.ts","../../src/auth/client-sdk/notImplemented.ts","../../src/auth/client-sdk/index.ts"],"sourcesContent":["import { IDictionary } from 'common-types';\n\n/** named network delays */\nexport enum Delays {\n  random = 'random',\n  weak = 'weak-mobile',\n  mobile = 'mobile',\n  WiFi = 'WIFI',\n}\n\nexport type DelayType = number | number[] | IDictionary<number> | Delays;\n","export enum SortOrder {\n  asc,\n  desc,\n}\n","export class BaseSerializer {\n    constructor(path = '/') {\n        this._path = slashNotation(path);\n    }\n    static async create(constructor, path = '/') {\n        return new constructor(path);\n    }\n    get db() {\n        if (this._db) {\n            return this._db;\n        }\n        throw new Error('Attempt to use SerializedQuery without setting database');\n    }\n    get path() {\n        return this._path;\n    }\n    get identity() {\n        return {\n            endAtKey: this._endAtKey,\n            endAt: this._endAt,\n            equalToKey: this._equalToKey,\n            equalTo: this._equalTo,\n            limitToFirst: this._limitToFirst,\n            limitToLast: this._limitToLast,\n            orderByKey: this._orderKey,\n            orderBy: this._orderBy,\n            path: this._path,\n            startAtKey: this._startAtKey,\n            startAt: this._startAt,\n        };\n    }\n    /**\n     * Allows the DB interface to be setup early, allowing clients\n     * to call execute without any params.\n     */\n    setDB(db) {\n        this._db = db;\n        return this;\n    }\n    setPath(path) {\n        this._path = slashNotation(path);\n        return this;\n    }\n    /**\n     * Returns a unique numeric hashcode for this query\n     */\n    hashCode() {\n        const identity = JSON.stringify(this.identity);\n        let hash = 0;\n        if (identity.length === 0) {\n            return hash;\n        }\n        for (let i = 0; i < identity.length; i++) {\n            const char = identity.charCodeAt(i);\n            hash = (hash << 5) - hash + char;\n            // Convert to 32bit integer.\n            hash = hash & hash;\n        }\n        return hash;\n    }\n    limitToFirst(value) {\n        this._limitToFirst = value;\n        return this;\n    }\n    limitToLast(value) {\n        this._limitToLast = value;\n        return this;\n    }\n    orderByChild(child) {\n        this._orderBy = 'orderByChild';\n        this._orderKey = child;\n        return this;\n    }\n    orderByValue() {\n        this._orderBy = 'orderByValue';\n        return this;\n    }\n    orderByKey() {\n        this._orderBy = 'orderByKey';\n        return this;\n    }\n    startAt(value, key) {\n        this._startAt = value;\n        this._startAtKey = key;\n        return this;\n    }\n    endAt(value, key) {\n        this._endAt = value;\n        this._endAtKey = key;\n        return this;\n    }\n    equalTo(value, key) {\n        this._equalTo = value;\n        this._equalToKey = key;\n        return this;\n    }\n    toJSON() {\n        return this.identity;\n    }\n    toString() {\n        return JSON.stringify(this.identity, null, 2);\n    }\n}\nfunction slashNotation(path) {\n    return path.replace(/\\./g, '/');\n}\n//# sourceMappingURL=BaseSerializer.js.map","import { RealQueryOrderType } from \"./index\";\nimport { BaseSerializer } from \"./index\";\n/**\n * Provides a way to serialize the full characteristics of a Firebase Realtime\n * Database query.\n */\nexport class SerializedRealTimeQuery extends BaseSerializer {\n    constructor() {\n        super(...arguments);\n        this._orderBy = \"orderByKey\";\n    }\n    static path(path = \"/\") {\n        return new SerializedRealTimeQuery(path);\n    }\n    startAt(value, key) {\n        this.validateKey(\"startAt\", key, [\n            RealQueryOrderType.orderByChild,\n            RealQueryOrderType.orderByValue,\n        ]);\n        super.startAt(value, key);\n        return this;\n    }\n    endAt(value, key) {\n        this.validateKey(\"endAt\", key, [\n            RealQueryOrderType.orderByChild,\n            RealQueryOrderType.orderByValue,\n        ]);\n        super.endAt(value, key);\n        return this;\n    }\n    equalTo(value, key) {\n        super.equalTo(value, key);\n        this.validateKey(\"equalTo\", key, [\n            RealQueryOrderType.orderByChild,\n            RealQueryOrderType.orderByValue,\n        ]);\n        return this;\n    }\n    deserialize(db) {\n        const database = db || this.db;\n        let q = database.ref(this.path);\n        switch (this._orderBy) {\n            case \"orderByKey\":\n                q = q.orderByKey();\n                break;\n            case \"orderByValue\":\n                q = q.orderByValue();\n                break;\n            case \"orderByChild\":\n                q = q.orderByChild(this.identity.orderByKey);\n                break;\n        }\n        if (this.identity.limitToFirst) {\n            q = q.limitToFirst(this.identity.limitToFirst);\n        }\n        if (this.identity.limitToLast) {\n            q = q.limitToLast(this.identity.limitToLast);\n        }\n        if (this.identity.startAt) {\n            q = q.startAt(this.identity.startAt, this.identity.startAtKey);\n        }\n        if (this.identity.endAt) {\n            q = q.endAt(this.identity.endAt, this.identity.endAtKey);\n        }\n        if (this.identity.equalTo) {\n            q = this.identity.equalToKey\n                ? q.equalTo(this.identity.equalTo, this.identity.equalToKey)\n                : q.equalTo(this.identity.equalTo);\n        }\n        return q;\n    }\n    async execute(db) {\n        const database = db || this.db;\n        const snapshot = await this.deserialize(database).once(\"value\");\n        return snapshot;\n    }\n    where(operation, value, key) {\n        switch (operation) {\n            case \"=\":\n                return this.equalTo(value, key);\n            case \">\":\n                return this.startAt(value, key);\n            case \"<\":\n                return this.endAt(value, key);\n            default:\n                const err = new Error(`Unknown comparison operator: ${operation}`);\n                err.code = \"invalid-operator\";\n                throw err;\n        }\n    }\n    /**\n     * Ensures that when a `key` is passed in as part of the query modifiers --\n     * such as \"startAt\", \"endAt\", etc. -- that the sorting strategy is valid.\n     *\n     * @param caller gives a simple string name for the method\n     * which is currently being called to modify the search filters\n     * @param key the key value that _might_ have been erroneously passed in\n     */\n    validateKey(caller, key, allowed) {\n        const isNotAllowed = allowed.includes(this._orderBy) === false;\n        if (key && isNotAllowed) {\n            throw new Error(`You can not use the \"key\" parameter with ${caller}() when using a \"${this._orderBy}\" sort. Valid ordering strategies are: ${allowed.join(\", \")}`);\n        }\n    }\n}\n//# sourceMappingURL=SerializedRealTimeQuery.js.map","export var RealQueryOrderType;\n(function (RealQueryOrderType) {\n    RealQueryOrderType[\"orderByChild\"] = \"orderByChild\";\n    RealQueryOrderType[\"orderByKey\"] = \"orderByKey\";\n    RealQueryOrderType[\"orderByValue\"] = \"orderByValue\";\n})(RealQueryOrderType || (RealQueryOrderType = {}));\n//# sourceMappingURL=serialized-types.js.map","export function atRandom<T = any>(things: T[], excluding: T[] = []) {\n  things = things.filter((i) => !excluding.includes(i));\n  const random = Math.floor(Math.random() * things.length);\n  return things[random];\n}\n","import { IDictionary } from 'common-types';\n\nexport const dotify = (path: string) => {\n  const dotPath = path.replace(/[\\\\\\/]/g, '.');\n  return removeDotsAtExtremes(\n    dotPath.slice(0, 1) === '.' ? dotPath.slice(1) : dotPath\n  );\n};\n\nexport function dotifyKeys(obj: IDictionary) {\n  const result: IDictionary = {};\n  Object.keys(obj).forEach((key) => {\n    result[dotify(key)] = obj[key];\n  });\n  return result;\n}\n\nexport function removeDotsAtExtremes(path: string) {\n  const front = path.slice(0, 1) === '.' ? path.slice(1) : path;\n  return front.slice(-1) === '.' ? front.slice(0, front.length - 1) : front;\n}\n","import { SerializedRealTimeQuery } from '@forest-fire/serialized-query';\n\n/** an filter function for queries with a `limitToFirst` value */\nexport function limitToFirst(query: SerializedRealTimeQuery) {\n  const value = query.identity.limitToFirst;\n\n  return (list: any[]) => {\n    if (value === undefined) {\n      return list;\n    }\n\n    return list.slice(0, value);\n  };\n}\n\n/** an filter function for queries with a `limitToLast` value */\nexport function limitToLast(query: SerializedRealTimeQuery) {\n  const value = query.identity.limitToLast;\n\n  return (list: any[]) => {\n    if (value === undefined) {\n      return list;\n    }\n\n    return list.slice(-1 * value);\n  };\n}\n","/**\r\n * Provides a logical test to see if the passed in event is a LambdaProxy request or just a\r\n * straight JS object response. This is useful when you have both an HTTP event and a Lambda-to-Lambda\r\n * or Step-Function-to-Lambda interaction.\r\n *\r\n * @param message the body of the request (which is either of type T or a LambdaProxy event)\r\n */\r\nfunction isLambdaProxyRequest(message) {\r\n    return typeof message === \"object\" &&\r\n        message.resource &&\r\n        message.path &&\r\n        message.httpMethod\r\n        ? true\r\n        : false;\r\n}\r\nfunction parsed(input) {\r\n    try {\r\n        const output = JSON.parse(input.body.replace(/[\\n\\t]/g, \"\"));\r\n        return output;\r\n    }\r\n    catch (e) {\r\n        return input.body;\r\n    }\r\n}\r\n/**\r\n * **getBodyFromPossibleLambdaProxyRequest**\r\n *\r\n * Returns the message body/payload regardless of whether Lambda was called by API Gateway's LambdaProxy\r\n * or from another Lambda function.\r\n *\r\n * @param input either a [Lambda Proxy Request](https://docs.aws.amazon.com/apigateway/latest/developerguide/set-up-lambda-proxy-integrations.html)\r\n * or type `T` as defined by consumer\r\n * @return type of `T`\r\n */\r\nfunction getBodyFromPossibleLambdaProxyRequest(input) {\r\n    return isLambdaProxyRequest(input) ? parsed(input) : input;\r\n}\n\n/**\r\n * **LambdaEventParser**\r\n *\r\n * Ensures that the _typed_ `request` is separated from a possible Proxy Integration\r\n * Request that would have originated from API Gateway; also returns the `apiGateway`\r\n * payload with the \"body\" removed (as it would be redundant to the request).\r\n *\r\n * Typical usage is:\r\n *\r\n```typescript\r\nconst { request, apiGateway } = LambdaEventParser.parse(event);\r\n```\r\n *\r\n * this signature is intended to mimic the `LambdaSequence.from(event)` API but\r\n * without the parsing of a `sequence` property being extracted.\r\n *\r\n */\r\nclass LambdaEventParser {\r\n    /**\r\n     * **parse**\r\n     *\r\n     * A static method which returns an object with both `request` and `apiGateway`\r\n     * properties. The `request` is typed to **T** and the `apiGateway` will be a\r\n     * `IAWSLambdaProxyIntegrationRequest` object with the \"body\" removed _if_\r\n     * the event came from **API Gateway** otherwise it will be undefined.\r\n     */\r\n    static parse(event) {\r\n        const request = isLambdaProxyRequest(event)\r\n            ? JSON.parse(event.body)\r\n            : event;\r\n        if (isLambdaProxyRequest(event)) {\r\n            delete event.body;\r\n        }\r\n        else {\r\n            event = undefined;\r\n        }\r\n        return {\r\n            request,\r\n            apiGateway: event\r\n        };\r\n    }\r\n}\n\n/**\r\n * **LambdaResponse**\r\n *\r\n * Not implemented yet\r\n */\r\nclass LambdaResponse {\r\n}\n\n/** provides a friendly way to pause execution when using async/await symantics */\r\nasync function wait(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\n\nvar HttpStatusCodes;\r\n(function (HttpStatusCodes) {\r\n    /**\r\n     * The client SHOULD continue with its request. This interim response is used to inform\r\n     * the client that the initial part of the request has been received and has not yet\r\n     * been rejected by the server. The client SHOULD continue by sending the remainder\r\n     * of the request or, if the request has already been completed, ignore this response.\r\n     * The server MUST send a final response after the request has been completed.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Continue\"] = 100] = \"Continue\";\r\n    /** The request has succeeded. */\r\n    HttpStatusCodes[HttpStatusCodes[\"Success\"] = 200] = \"Success\";\r\n    /**\r\n     * The request has been fulfilled and resulted in a new resource being created. The newly\r\n     * created resource can be referenced by the URI(s) returned in the entity of the response,\r\n     * with the most specific URI for the resource given by a Location header field. The response\r\n     * SHOULD include an entity containing a list of resource characteristics and location(s) from\r\n     * which the user or user agent can choose the one most appropriate. The entity format is\r\n     * specified by the media type given in the Content-Type header field. The origin server MUST\r\n     * create the resource before returning the `201` status code. If the action cannot be carried\r\n     * out immediately, the server SHOULD respond with `202` (Accepted) response instead.\r\n     *\r\n     * A `201` response MAY contain an ETag response header field indicating the current value of\r\n     * the entity tag for the requested variant just created.\r\n  \n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Created\"] = 201] = \"Created\";\r\n    /**\r\n     * The request has been accepted for processing, but the processing has not been completed.\r\n     * The request might or might not eventually be acted upon, as it might be disallowed when\r\n     * processing actually takes place. There is no facility for re-sending a status code from an\r\n     * asynchronous operation such as this.\r\n     *\r\n     * The 202 response is intentionally non-committal. Its purpose is to allow a server to accept\r\n     * a request for some other process (perhaps a batch-oriented process that is only run once\r\n     * per day) without requiring that the user agent's connection to the server persist until the\r\n     * process is completed. The entity returned with this response SHOULD include an indication\r\n     * of the request's current status and either a pointer to a status monitor or some estimate\r\n     * of when the user can expect the request to be fulfilled.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Accepted\"] = 202] = \"Accepted\";\r\n    /**\r\n     * The server has fulfilled the request but does not need to return an entity-body, and might\r\n     * want to return updated meta-information. The response MAY include new or updated\r\n     * meta-information in the form of entity-headers, which if present SHOULD be associated with\r\n     * the requested variant.\r\n     *\r\n     * If the client is a _user agent_, it **SHOULD NOT** change its document view from that which\r\n     * caused the request to be sent. This response is primarily intended to allow input for\r\n     * actions to take place without causing a change to the user agent's active document view,\r\n     * although any new or updated metainformation **SHOULD** be applied to the document\r\n     * currently in the user agent's active view.\r\n     *\r\n     * The `204` response **MUST NOT** include a `message-body`, and thus is always terminated\r\n     * by the first empty line after the header fields.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"NoContent\"] = 204] = \"NoContent\";\r\n    HttpStatusCodes[HttpStatusCodes[\"MovedPermenantly\"] = 301] = \"MovedPermenantly\";\r\n    HttpStatusCodes[HttpStatusCodes[\"TemporaryRedirect\"] = 307] = \"TemporaryRedirect\";\r\n    /**\r\n     * If the client has performed a conditional GET request and access is allowed, but the\r\n     * document has not been modified, the server SHOULD respond with this status code. The\r\n     * `304` response MUST NOT contain a _message-body_, and thus is always terminated by the\r\n     * first empty line after the header fields.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"NotModified\"] = 304] = \"NotModified\";\r\n    /**\r\n     * The request could not be understood by the server due to malformed syntax.\r\n     * The client SHOULD NOT repeat the request without modifications.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"BadRequest\"] = 400] = \"BadRequest\";\r\n    /**\r\n     * The request requires user authentication. The response MUST include a WWW-Authenticate\r\n     * header field containing a challenge applicable to the requested resource.\r\n     * The client MAY repeat the request with a suitable Authorization header field. If the\r\n     * request already included Authorization credentials, then the `401`\r\n     * response indicates that authorization has been refused for those credentials. If the `401`\r\n     * response contains the same challenge as the prior response, and the user agent has already\r\n     * attempted authentication at least once, then the user SHOULD be presented the entity that\r\n     * was given in the response, since that entity might include relevant diagnostic information.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Unauthorized\"] = 401] = \"Unauthorized\";\r\n    HttpStatusCodes[HttpStatusCodes[\"PaymentRequired\"] = 402] = \"PaymentRequired\";\r\n    /**\r\n     * The request could not be understood by the server due to malformed syntax. The client\r\n     * SHOULD NOT repeat the request without modifications.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Forbidden\"] = 403] = \"Forbidden\";\r\n    /**\r\n     * The server has not found anything matching the Request-URI. No indication is given of\r\n     * whether the condition is temporary or permanent. The `410` (Gone) status code SHOULD be\r\n     * used if the server knows, through some internally configurable mechanism, that an old\r\n     * resource is permanently unavailable and has no forwarding address.\r\n     *\r\n     * This status code is commonly used when the server does not wish to reveal exactly\r\n     * why the request has been refused, or when no other response is applicable.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"NotFound\"] = 404] = \"NotFound\";\r\n    /**\r\n     * The method specified in the Request-Line is not allowed for the resource identified\r\n     * by the Request-URI. The response MUST include an Allow header containing a list of\r\n     * valid methods for the requested resource.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"MethodNotAllowed\"] = 405] = \"MethodNotAllowed\";\r\n    /**\r\n     * The client did not produce a request within the time that the server was\r\n     * prepared to wait. The client MAY repeat the request without modifications\r\n     * at any later time.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"RequestTimeout\"] = 408] = \"RequestTimeout\";\r\n    /**\r\n     * The request could not be completed due to a conflict with the current state of the\r\n     * resource. This code is only allowed in situations where it is expected that the\r\n     * user might be able to resolve the conflict and resubmit the request. The response\r\n     * body SHOULD include enough information for the user to recognize the source of the\r\n     * conflict. Ideally, the response entity would include enough information for the\r\n     * user or user agent to fix the problem; however, that might not be possible and\r\n     * is not required.\r\n     *\r\n     * Conflicts are most likely to occur in response to a PUT request. For example,\r\n     * if versioning were being used and the entity being PUT included changes to a resource\r\n     * which conflict with those made by an earlier (third-party) request, the server might\r\n     * use the 409 response to indicate that it can't complete the request. In this case,\r\n     * the response entity would likely contain a list of the differences between the\r\n     * two versions in a format defined by the response Content-Type.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Conflict\"] = 409] = \"Conflict\";\r\n    /**\r\n     * The requested resource is no longer available at the server and no forwarding address\r\n     * is known. This condition is expected to be considered permanent. Clients with link\r\n     * editing capabilities SHOULD delete references to the Request-URI after user approval.\r\n     * If the server does not know, or has no facility to determine, whether or not the\r\n     * condition is permanent, the status code 404 (Not Found) SHOULD be used instead.\r\n     * This response is cacheable unless indicated otherwise.\r\n     *\r\n     * The 410 response is primarily intended to assist the task of web maintenance by\r\n     * notifying the recipient that the resource is intentionally unavailable and that\r\n     * the server owners desire that remote links to that resource be removed. Such an\r\n     * event is common for limited-time, promotional services and for resources belonging\r\n     * to individuals no longer working at the server's site. It is not necessary to mark\r\n     * all permanently unavailable resources as \"gone\" or to keep the mark for any length\r\n     * of time -- that is left to the discretion of the server owner.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"Gone\"] = 410] = \"Gone\";\r\n    /**\r\n     * Indicates that the server refuses to brew coffee because it is, permanently, a teapot.\r\n     * A combined coffee/tea pot that is temporarily out of coffee should instead return 503.\r\n     * This error is a reference to Hyper Text Coffee Pot Control Protocol defined in April\r\n     * Fools' jokes in 1998 and 2014.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"IAmATeapot\"] = 418] = \"IAmATeapot\";\r\n    HttpStatusCodes[HttpStatusCodes[\"UnprocessableEntity\"] = 422] = \"UnprocessableEntity\";\r\n    /**\r\n     * The 429 status code indicates that the user has sent too many requests in a given\r\n     * amount of time (\"rate limiting\").\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"TooManyRequests\"] = 429] = \"TooManyRequests\";\r\n    /**\r\n     * The server encountered an unexpected condition which prevented it from fulfilling\r\n     * the request.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"InternalServerError\"] = 500] = \"InternalServerError\";\r\n    /**\r\n     * The server does not support the functionality required to fulfill the request. This\r\n     * is the appropriate response when the server does not recognize the request method\r\n     * and is not capable of supporting it for any resource.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"NotImplemented\"] = 501] = \"NotImplemented\";\r\n    /**\r\n     * The server, while acting as a gateway or proxy, received an invalid response from\r\n     * the upstream server it accessed in attempting to fulfill the request.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"BadGateway\"] = 502] = \"BadGateway\";\r\n    /**\r\n     * Indicates that the server is not ready to handle the request.\r\n     *\r\n     * Common causes are a server that is down for maintenance or that is overloaded.\r\n     * This response should be used for temporary conditions and the `Retry-After` HTTP\r\n     * header should, if possible, contain the estimated time for the recovery of the\r\n     * service.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"ServiceUnavailable\"] = 503] = \"ServiceUnavailable\";\r\n    HttpStatusCodes[HttpStatusCodes[\"GatewayTimeout\"] = 504] = \"GatewayTimeout\";\r\n    /**\r\n     * The 511 status code indicates that the client needs to authenticate to gain\r\n     * network access.\r\n     *\r\n     * The response representation SHOULD contain a link to a resource that allows\r\n     * the user to submit credentials (e.g. with a HTML form).\r\n     *\r\n     * Note that the 511 response SHOULD NOT contain a challenge or the login interface\r\n     * itself, because browsers would show the login interface as being associated with\r\n     * the originally requested URL, which may cause confusion.\r\n     */\r\n    HttpStatusCodes[HttpStatusCodes[\"AuthenticationRequired\"] = 511] = \"AuthenticationRequired\";\r\n})(HttpStatusCodes || (HttpStatusCodes = {}));\n\nclass ParseStackError extends Error {\r\n    constructor(code, message, originalString, structuredString) {\r\n        super();\r\n        this.originalString = originalString;\r\n        this.structuredString = structuredString;\r\n        this.message = `[parseStack/${code}] ` + message;\r\n        this.code = code;\r\n        this.name = `parseStack/${code}`;\r\n    }\r\n}\n\nfunction separateFileAndFilepath(fileinfo) {\r\n    const parts = fileinfo.split(\"/\");\r\n    return parts.length < 2\r\n        ? { file: fileinfo, filePath: \"\" }\r\n        : { file: parts.pop(), filePath: parts.slice(0, parts.length - 1).join(\"/\") };\r\n}\r\nfunction fileMapper(i) {\r\n    const { file, filePath } = separateFileAndFilepath(i.file);\r\n    i.file = file;\r\n    if (filePath) {\r\n        i.filePath = filePath;\r\n        i.shortPath = filePath\r\n            .split(\"/\")\r\n            .slice(-3)\r\n            .join(\"/\");\r\n    }\r\n    return i;\r\n}\r\n/**\r\n * parses an Error's `stack` property into a structured\r\n * object. Optionally allowing for filtering and size limiting\r\n */\r\nfunction parseStack(\r\n/** the default stack trace string */\r\nstack, options = {}) {\r\n    const ignorePatterns = options.ignorePatterns || [];\r\n    const limit = options.limit;\r\n    const structured = stack\r\n        .replace(/Error.*\\n.*?at/, \" at\")\r\n        .replace(/at (\\S*) \\(([^\\0]*?)\\:([0-9]*?)\\:([0-9]*)\\)| at (\\/.*?)\\:([0-9]*?)\\:([0-9]*)/g, '{ \"fn\": \"$1\", \"line\": $3$6, \"col\": $4$7, \"file\": \"$2$5\" },');\r\n    let parsed;\r\n    try {\r\n        parsed = JSON.parse(`[ ${structured.replace(/\\,$/, \"\")} ]`)\r\n            .filter((i) => {\r\n            let result = true;\r\n            ignorePatterns.forEach(pattern => {\r\n                if (i.fn.includes(pattern) || i.file.includes(pattern)) {\r\n                    result = false;\r\n                }\r\n            });\r\n            return result;\r\n        })\r\n            .map(fileMapper);\r\n        if (limit) {\r\n            parsed = parsed.slice(0, limit);\r\n        }\r\n    }\r\n    catch (e) {\r\n        throw new ParseStackError(\"parsing-error\", e.message, stack, structured);\r\n    }\r\n    return parsed;\r\n}\n\nclass PathJoinError extends Error {\r\n    constructor(code, message) {\r\n        super();\r\n        this.message = `[pathJoin/${code}] ` + message;\r\n        this.code = code;\r\n        this.name = `pathJoin/${code}`;\r\n    }\r\n}\n\nvar moreThanThreePeriods = /\\.{3,}/g;\r\n// polyfill Array.isArray if necessary\r\nif (!Array.isArray) {\r\n    Array.isArray = function (arg) {\r\n        return Object.prototype.toString.call(arg) === \"[object Array]\";\r\n    };\r\n}\r\n/**\r\n * An ISO-morphic path join that works everywhere;\r\n * all paths are separated by the `/` character and both\r\n * leading and trailing delimiters are stripped\r\n */\r\nfunction pathJoin(...args) {\r\n    // strip undefined segments\r\n    if (!args.every(i => ![\"undefined\"].includes(typeof i))) {\r\n        args = args.filter(a => a);\r\n    }\r\n    // remaining invalid types\r\n    if (!args.every(i => [\"string\", \"number\"].includes(typeof i))) {\r\n        throw new PathJoinError(\"invalid-path-part\", `Attempt to use pathJoin() failed because some of the path parts were of the wrong type. Path parts must be either a string or an number: ${args.map(i => typeof i)}`);\r\n    }\r\n    // JOIN paths\r\n    try {\r\n        const reducer = function (agg, pathPart) {\r\n            let { protocol, parts } = pullOutProtocols(agg);\r\n            parts.push(typeof pathPart === \"number\"\r\n                ? String(pathPart)\r\n                : stripSlashesAtExtremities(pathPart));\r\n            return protocol + parts.filter(i => i).join(\"/\");\r\n        };\r\n        const result = removeSingleDotExceptToStart(doubleDotOnlyToStart(args.reduce(reducer, \"\").replace(moreThanThreePeriods, \"..\")));\r\n        return result;\r\n    }\r\n    catch (e) {\r\n        if (e.name.includes(\"pathJoin\")) {\r\n            throw e;\r\n        }\r\n        else {\r\n            throw new PathJoinError(e.name || \"unknown\", e.message);\r\n        }\r\n    }\r\n}\r\nfunction pullOutProtocols(content) {\r\n    const protocols = [\"https://\", \"http://\", \"file://\", \"tel://\"];\r\n    let protocol = \"\";\r\n    protocols.forEach(p => {\r\n        if (content.includes(p)) {\r\n            protocol = p;\r\n            content = content.replace(p, \"\");\r\n        }\r\n    });\r\n    return { protocol, parts: content.split(\"/\") };\r\n}\r\nfunction stripSlashesAtExtremities(pathPart) {\r\n    const front = pathPart.slice(0, 1) === \"/\" ? pathPart.slice(1) : pathPart;\r\n    const back = front.slice(-1) === \"/\" ? front.slice(0, front.length - 1) : front;\r\n    return back.slice(0, 1) === \"/\" || back.slice(-1) === \"/\"\r\n        ? stripSlashesAtExtremities(back)\r\n        : back;\r\n}\r\n/**\r\n * checks to ensure that a \"..\" path notation is only employed at the\r\n * very start of the path or else throws an error\r\n */\r\nfunction doubleDotOnlyToStart(path) {\r\n    if (path.slice(2).includes(\"..\")) {\r\n        throw new PathJoinError(\"not-allowed\", `The path \"${path}\" is not allowed because it  has \"..\" in it. This notation is fine at the beginning of a path but no where else.`);\r\n    }\r\n    return path;\r\n}\r\n/**\r\n * removes `./` in path parts other than leading segment\r\n */\r\nfunction removeSingleDotExceptToStart(path) {\r\n    let parts = path.split(\"/\");\r\n    return (parts[0] +\r\n        \"/\" +\r\n        parts\r\n            .slice(1)\r\n            .filter(i => i !== \".\")\r\n            .join(\"/\"));\r\n}\r\n/** converts a slash delimited filepath to a dot notation path */\r\nfunction dotNotation(input) {\r\n    return input.replace(/\\//g, \".\");\r\n}\n\nfunction createBindDeploymentConfig(config, methodSettings) {\r\n    const defaultMethodSettings = [\r\n        {\r\n            DataTraceEnabled: true,\r\n            HttpMethod: \"*\",\r\n            LoggingLevel: \"INFO\",\r\n            ResourcePath: \"/*\",\r\n            MetricsEnabled: true\r\n        }\r\n    ];\r\n    const stageName = `${config.service}-${config.stage}`;\r\n    const defaultConfig = {\r\n        resources: {\r\n            Resources: {\r\n                PathMapping: {\r\n                    Type: \"AWS::ApiGateway::BasePathMapping\",\r\n                    DependsOn: \"ApiGatewayStage\",\r\n                    Properties: {\r\n                        DomainName: config.domainName ? config.domainName : undefined,\r\n                        RestApiId: {\r\n                            Ref: \"ApiGatewayRestApi\"\r\n                        },\r\n                        Stage: stageName\r\n                    }\r\n                },\r\n                __deployment__: {\r\n                    Properties: {\r\n                        Description: \"(default deployment description)\"\r\n                    }\r\n                },\r\n                ApiGatewayStage: {\r\n                    Type: \"AWS::ApiGateway::Stage\",\r\n                    Properties: {\r\n                        DeploymentId: {\r\n                            Ref: \"__deployment__\"\r\n                        },\r\n                        RestApiId: {\r\n                            Ref: \"ApiGatewayRestApi\"\r\n                        },\r\n                        StageName: stageName,\r\n                        MethodSettings: methodSettings || defaultMethodSettings\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return { ...defaultConfig, ...config };\r\n}\n\nconst AWS_REGIONS = [\r\n    \"us-east-1\",\r\n    \"us-east-2\",\r\n    \"us-west-1\",\r\n    \"us-west-2\",\r\n    \"eu-west-1\",\r\n    \"eu-west-2\",\r\n    \"eu-west-3\",\r\n    \"eu-north-1\",\r\n    \"eu-central-1\",\r\n    \"sa-east-1\",\r\n    \"ca-central-1\",\r\n    \"ap-south-1\",\r\n    \"ap-northeast-1\",\r\n    \"ap-northeast-2\",\r\n    \"ap-northeast-3\",\r\n    \"ap-southeast-1\",\r\n    \"ap-southeast-2\",\r\n];\n\nfunction serverlessConfigHasApiGatewayTracing(config) {\r\n    return (config.tracing && config.tracing === true) ||\r\n        (typeof config.tracing === \"object\" && config.tracing.apiGateway)\r\n        ? true\r\n        : false;\r\n}\r\nfunction serverlessConfigHasLambdaTracing(config) {\r\n    return (config.tracing && config.tracing === true) || (typeof config.tracing === \"object\" && config.tracing.lambda)\r\n        ? true\r\n        : false;\r\n}\n\nfunction stackTrace(trace) {\r\n    return trace ? trace.split(\"\\n\") : [];\r\n}\n\nfunction apiGatewayError(code, message, priorError) {\r\n    const messagePrefix = `[${code}] `;\r\n    const e = new ApiGatewayError(priorError ? priorError.message : \"\");\r\n    e.errorMessage = !priorError\r\n        ? messagePrefix + message\r\n        : messagePrefix + priorError.message + message;\r\n    e.name = priorError ? priorError.name : \"ApiGatewayError\";\r\n    e.errorCode = code;\r\n    e.stack = priorError\r\n        ? priorError.stack ||\r\n            stackTrace(e.stack)\r\n                .slice(2)\r\n                .join(\"\\n\")\r\n        : stackTrace(e.stack)\r\n            .slice(2)\r\n            .join(\"\\n\");\r\n    return e;\r\n}\r\nclass ApiGatewayError extends Error {\r\n}\n\nfunction createError(fullName, message, priorError) {\r\n    const messagePrefix = `[${fullName}] `;\r\n    const e = new AppError(!priorError\r\n        ? messagePrefix + message\r\n        : messagePrefix + priorError.message + message);\r\n    e.name = priorError ? priorError.code || priorError.name : fullName;\r\n    const parts = fullName.split(\"/\");\r\n    e.code = [...parts].pop();\r\n    e.stack = priorError\r\n        ? priorError.stack ||\r\n            stackTrace(e.stack)\r\n                .slice(2)\r\n                .join(\"\\n\")\r\n        : stackTrace(e.stack)\r\n            .slice(2)\r\n            .join(\"\\n\");\r\n    return e;\r\n}\r\nclass AppError extends Error {\r\n}\n\nexport { AWS_REGIONS, ApiGatewayError, AppError, HttpStatusCodes, LambdaEventParser, LambdaResponse, ParseStackError, PathJoinError, apiGatewayError, createBindDeploymentConfig, createError, dotNotation, getBodyFromPossibleLambdaProxyRequest, isLambdaProxyRequest, parseStack, pathJoin, serverlessConfigHasApiGatewayTracing, serverlessConfigHasLambdaTracing, wait };\n//# sourceMappingURL=index.js.map\n","import first from 'lodash.first';\nimport last from 'lodash.last';\nimport { IDictionary, wait } from 'common-types';\nimport type { IRtdbDataSnapshot } from '@forest-fire/types';\nimport { Delays } from '@/@types';\n\nexport function normalizeRef(r: string): string {\n  r = r.replace('/', '.');\n  r = r.slice(0, 1) === '.' ? r.slice(1) : r;\n\n  return r;\n}\n\nexport function parts(r: string) {\n  return normalizeRef(r).split('.');\n}\n\n/**\n * return the last component of the path\n * which typically would represent the 'id'\n * of a list-node\n */\nexport function leafNode(r: string) {\n  return parts(r).pop();\n}\n\nexport function getRandomInt(min: number, max: number) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\nexport function firstProp<T = IDictionary>(listOf: IDictionary<any>) {\n  return listOf ? listOf[firstKey(listOf)] : {};\n}\n\nexport function lastProp<T = IDictionary>(listOf: IDictionary<any>) {\n  return listOf[lastKey(listOf)] as T;\n}\n\nexport function objectIndex(obj: IDictionary, index: number) {\n  const keys = Object.keys(obj);\n  return keys ? obj[keys[index - 1]] : null;\n}\n\nexport function firstKey<T = any>(listOf: IDictionary<T>) {\n  return first(Object.keys(listOf));\n}\n\nexport function lastKey<T = any>(listOf: IDictionary<T>) {\n  return last(Object.keys(listOf));\n}\n\nexport function removeKeys(obj: IDictionary, remove: string[]) {\n  return Object.keys(obj).reduce((agg: IDictionary, v: any) => {\n    if (remove.indexOf(v) === -1) {\n      agg[v] = obj[v];\n    }\n    return agg;\n  }, {});\n}\n\n/**\n * Joins a set of paths together and converts into\n * correctly formatted \"dot notation\" directory path\n */\nexport function join(...paths: string[]) {\n  return paths\n    .map((p) => {\n      return p.replace(/[\\/\\\\]/gm, '.');\n    })\n    .map((p) => (p.slice(-1) === '.' ? p.slice(0, p.length - 1) : p))\n    .map((p) => (p.slice(0, 1) === '.' ? p.slice(1) : p))\n    .join('.');\n}\n\nexport function pathDiff(longPath: string, pathSubset: string) {\n  const subset = pathSubset.split('.');\n  const long = longPath.split('.');\n  if (\n    subset.length > long.length ||\n    JSON.stringify(long.slice(0, subset.length)) !== JSON.stringify(subset)\n  ) {\n    throw new Error(`\"${pathSubset}\" is not a subset of ${longPath}`);\n  }\n\n  return long.length === subset.length\n    ? ''\n    : long.slice(subset.length - long.length).join('.');\n}\n\nexport function orderedSnapToJS<T = any>(snap: IRtdbDataSnapshot) {\n  const jsObject: IDictionary<T> = {};\n  snap.forEach((record) => (jsObject[record.key] = record.val()));\n\n  return jsObject;\n}\n\n/**\n * Given a path, returns the parent path and child key\n */\nexport function keyAndParent(dotPath: string) {\n  const sections = dotPath.split('.');\n  const changeKey = sections.pop();\n  const parent = sections.join('.');\n  return { parent, key: changeKey };\n}\n\n/** converts a '/' delimited path to a '.' delimited one */\nexport function dotNotation(path: string) {\n  path = path.slice(0, 1) === '/' ? path.slice(1) : path;\n  return path ? path.replace(/\\//g, '.') : undefined;\n}\n\nexport function slashNotation(path: string) {\n  return path.replace(/\\./g, '/');\n}\n\n/** Get the parent DB path */\nexport function getParent(dotPath: string) {\n  return keyAndParent(dotPath).parent;\n}\n\n/** Get the Key from the end of a path string */\nexport function getKey(dotPath: string) {\n  return keyAndParent(dotPath).key;\n}\n\nlet _delay: IDictionary | number | number[] | Delays = 5;\n\nexport function setNetworkDelay(\n  value: IDictionary | number | number[] | Delays\n) {\n  _delay = value;\n}\n\nexport async function networkDelay<T = any>(returnValue?: T): Promise<T> {\n  await wait(calcDelay());\n  return returnValue;\n}\n\nfunction calcDelay(): number {\n  const delay = _delay as IDictionary | number | number[] | Delays;\n  if (typeof delay === 'number') {\n    return delay;\n  }\n\n  if (Array.isArray(delay)) {\n    const [min, max] = delay;\n    return getRandomInt(min, max);\n  }\n\n  if (typeof delay === 'object' && !Array.isArray(delay)) {\n    const { min, max } = delay;\n    return getRandomInt(min, max);\n  }\n\n  // these numbers need some reviewing\n  if (delay === 'random') {\n    return getRandomInt(10, 300);\n  }\n  // if (delay === \"weak\") {\n  //   return getRandomInt(400, 900);\n  // }\n  if (delay === 'mobile') {\n    return getRandomInt(300, 500);\n  }\n  if (delay === 'WIFI') {\n    return getRandomInt(10, 100);\n  }\n\n  throw new Error('Delay property is of unknown format: ' + delay);\n}\n\nexport function stripLeadingDot(str: string) {\n  return str.slice(0, 1) === '.' ? str.slice(1) : str;\n}\n\nexport function removeDots(str?: string) {\n  return str ? str.replace(/\\./g, '') : undefined;\n}\n","import { IDictionary } from 'common-types';\n\nconst exceptions: IDictionary<string> = {\n  child: 'children',\n  man: 'men',\n  woman: 'women',\n  tooth: 'teeth',\n  foot: 'feet',\n  mouse: 'mice',\n  person: 'people',\n  company: 'companies',\n};\n\n/**\n * Exceptions when moving from plural to singular\n */\nconst singularExceptions = () => {\n  return Object.keys(pluralize).reduce(\n    (agg: IDictionary, k: string) => (agg[exceptions[k]] = k),\n    new Object()\n  );\n};\n\nexport function pluralize(singular: string) {\n  const rules = [\n    { find: /(.*)(ch|sh|ax|ss)$/, replace: '$1$2es' },\n    { find: /(.*)(fe|f)$/, replace: '$1ves' },\n    { find: /(.*)us$/, replace: '$1i' },\n  ];\n  for (const r of rules) {\n    if (r.find.test(singular)) {\n      return singular.replace(r.find, r.replace);\n    }\n  }\n\n  return exceptions[singular] ? exceptions[singular] : `${singular}s`;\n}\n\nexport const addException = (singular: string, plural: string) => {\n  exceptions[singular] = plural;\n};\n\nexport const singularize = (plural: string) => {\n  //\n};\n","import { SerializedRealTimeQuery } from '@forest-fire/serialized-query';\n\nexport function startAt(query: SerializedRealTimeQuery) {\n  const key = query.identity.startAtKey || query.identity.orderByKey;\n  const value = query.identity.startAt;\n\n  return (record: any) => {\n    if (value === undefined) {\n      return true;\n    }\n\n    return key ? record[key] >= value : record >= value;\n  };\n}\n\nexport function endAt(query: SerializedRealTimeQuery) {\n  const key = query.identity.endAtKey || query.identity.orderByKey;\n  const value = query.identity.endAt;\n\n  return (record: any) => {\n    if (value === undefined) {\n      return true;\n    }\n\n    return key ? record[key] <= value : record <= value;\n  };\n}\n\n/** a filter function for queries with a `equalTo` value */\nexport function equalTo(query: SerializedRealTimeQuery) {\n  const key = query.identity.equalToKey || query.identity.orderByKey;\n  const value = query.identity.equalTo;\n\n  return (record: any) => {\n    if (value === undefined) {\n      return true;\n    }\n\n    return key ? record[key] === value : record === value;\n  };\n}\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar objectProto$1 = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString$1 = objectProto$1.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString$1.call(value);\n}\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag$1 = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag$1 && symToStringTag$1 in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\n/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto$1 = Function.prototype,\n    objectProto$2 = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString$1 = funcProto$1.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$1 = objectProto$2.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto$3 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$2 = objectProto$3.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n}\n\n/** Used for built-in method references. */\nvar objectProto$4 = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty$3 = objectProto$4.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty$3.call(data, key);\n}\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED$1 : value;\n  return this;\n}\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\n/** Used as references for various `Number` constants. */\nvar INFINITY$1 = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY$1) ? '-0' : result;\n}\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nfunction removeIdPropertyFromHash(hash, idProp = \"id\") {\n    const output = {};\n    Object.keys(hash).map((objId) => {\n        const input = hash[objId];\n        output[objId] = {};\n        Object.keys(input).map((prop) => {\n            if (prop !== idProp) {\n                output[objId][prop] = input[prop];\n            }\n        });\n    });\n    return output;\n}\nfunction keyValueDictionaryToArray(dict, options = {}) {\n    const __key__ = options.key || \"id\";\n    const __value__ = options.value || \"value\";\n    return Object.keys(dict).reduce((result, key) => {\n        return result.concat({ [__key__]: key, [__value__]: dict[key] });\n    }, []);\n}\nfunction keyValueArrayToDictionary(input, options = {}) {\n    const __key__ = options.key || \"key\";\n    const __value__ = options.value || \"value\";\n    return input.reduce((output, curr) => {\n        const key = curr[__key__];\n        const value = curr[__value__];\n        output[key] = value;\n        return output;\n    }, {});\n}\n/**\n * hashToArray\n *\n * Converts a hash data structure of {key: value, key2: value2} to an\n * array of [ {id, value}, {id2, value2} ]. This should happen regardless\n * to whether the values are themselves hashes (which they often are) or\n * scalar values.\n *\n * The one edge case is where all the hashes passed in have a value of \"true\"\n * which indicates that this really just a simple value based array encoded as\n * a hash (as is often the case in Firebase for FK relationships).\n *\n * @param hashObj an object of keys that point to some data payload\n * @param ___key__ the property name on the converted array-of-hashes which will contain the key value; by default this is \"id\"\n */\nfunction hashToArray(hashObj, __key__ = \"id\") {\n    if (hashObj && typeof hashObj !== \"object\") {\n        throw new Error(\"Cant convert hash-to-array because hash was not passed in: \" + hashObj);\n    }\n    const hash = Object.assign({}, hashObj);\n    const results = [];\n    const isHashArray = Object.keys(hash).every((i) => hash[i] === true);\n    const isHashValue = Object.keys(hash).every((i) => typeof hash[i] !== \"object\");\n    Object.keys(hash).map((id) => {\n        const obj = typeof hash[id] === \"object\"\n            ? Object.assign(Object.assign({}, hash[id]), { [__key__]: id }) : isHashArray\n            ? id\n            : { [__key__]: id, value: hash[id] };\n        results.push(obj);\n    });\n    return results;\n}\nfunction flatten(list) {\n    return list.reduce((a, b) => a.concat(Array.isArray(b) ? flatten(b) : b), []);\n}\n/**\n * arrayToHash\n *\n * Converts an array of things into a hash/dictionary where \"things\" is a consistent\n * type of data structure (can be either object or primitive)\n *\n * @param arr an array of a particular type\n * @param keyProperty the property that will be used as the dictionaries key; if false\n * then will assign a firebase pushkey\n * @param removeIdProperty allow you to optionally exclude the `id` from the object\n * as it is redundant to the `key` of the hash. By default though, this is _not_ done as\n * Firemodel benefits (and expects) from this duplication.\n */\nfunction arrayToHash(arr, keyProperty, removeIdProperty = false) {\n    if (arr.length === 0) {\n        return {};\n    }\n    const isScalar = typeof arr[0] === \"object\" ? false : true;\n    if (isScalar && keyProperty) {\n        const e = new Error(`You can not have an array of primitive values AND set a keyProperty!`);\n        e.name = \"NotAllowed\";\n        throw e;\n    }\n    if (!keyProperty && !isScalar) {\n        if (arr[0].hasOwnProperty(\"id\")) {\n            keyProperty = \"id\";\n        }\n        else {\n            const e = new Error(`Tried to default to a keyProperty of \"id\" but that property does not appear to be in the array passed in`);\n            e.name = \"NotAllowed\";\n            throw e;\n        }\n    }\n    if (!Array.isArray(arr)) {\n        const e = new Error(`arrayToHash: input was not an array!`);\n        e.name = \"NotAllowed\";\n        throw e;\n    }\n    const output = arr.reduce((prev, curr) => {\n        const key = isScalar\n            ? curr\n            : typeof keyProperty === \"function\"\n                ? keyProperty(curr)\n                : curr[keyProperty];\n        return isScalar\n            ? Object.assign(Object.assign({}, prev), { [key]: true }) : Object.assign(Object.assign({}, prev), { [key]: curr });\n    }, {});\n    return removeIdProperty ? removeIdPropertyFromHash(output) : output;\n}\n/**\n * Snapshot to Array (unordered)\n *\n * converts snapshot directly to JS and then converts hash to an\n * array structure but any sorting that came from the server query\n * will be ignored.\n */\nfunction snapshotToArray(snap, idProp = \"id\") {\n    const hash = snap.val() || {};\n    return hashToArray(hash, idProp);\n}\n/**\n * Converts a Firebase snapshot to JS object with both val() and key\n * represented in the JS object\n *\n * @param snap the Firebase Snapshot\n * @param idProp the property used to store the \"id/key\" of the record\n */\nfunction snapshotToHash(snap, idProp = \"id\") {\n    const hash = snap.val() || {};\n    Object.keys(hash).forEach((key) => typeof hash[key] === \"object\"\n        ? (hash[key][idProp] = key)\n        : (hash[key] = { [idProp]: key, value: hash[key] }));\n    return hash;\n}\n/**\n * Snapshot to Array (ordered)\n *\n * uses Firebase forEach() iterator to gain the appropriate sorting from the query.\n */\nfunction snapshotToOrderedArray(snap, idProp = \"id\") {\n    const output = [];\n    snap.forEach((child) => {\n        const obj = child.val();\n        const key = child.key;\n        if (typeof obj !== \"object\") {\n            throw new Error(`Can't create a list from scalar values: \"${obj}\" | \"${key}\"`);\n        }\n        output.push(Object.assign({ [idProp]: key }, obj));\n        return true;\n    });\n    return output;\n}\nfunction snapshotToOrderedHash(snap, idProp = \"id\") {\n    const orderedArray = this.snapshotToOrderedArray(snap, idProp);\n    return this.arrayToHash(orderedArray);\n}\n/**\n *\n * @param dictionary A dictionary of a structured type\n * @param property Which property in each dictionary item are we getting\n */\nfunction getPropertyAcrossDictionaryItems(dictionary, property) {\n    const output = [];\n    Object.keys(dictionary).map((item) => {\n        const value = get(dictionary[item], property);\n        if (value !== undefined) {\n            output.push(value);\n        }\n    });\n    return output;\n}\n\nexport { arrayToHash, flatten, getPropertyAcrossDictionaryItems, hashToArray, keyValueArrayToDictionary, keyValueDictionaryToArray, removeIdPropertyFromHash, snapshotToArray, snapshotToHash, snapshotToOrderedArray, snapshotToOrderedHash };\n//# sourceMappingURL=index.js.map\n","import { IDictionary } from 'common-types';\nimport { SerializedRealTimeQuery, RealQueryOrderType } from '@forest-fire/serialized-query';\n\nexport type ISortFns = (a: any, b: any) => number;\n\nexport const orderByChild = (child: string | number) => {\n  return (a: IDictionary, b: IDictionary) => {\n    return a[child] > b[child] ? -1 : a[child] === b[child] ? 0 : 1;\n  };\n};\n\nexport const orderByKey = (a: IDictionary, b: IDictionary) => {\n  return a.id > b.id ? -1 : a.id === b.id ? 0 : 1;\n};\n\nexport const orderByValue = (a: IDictionary, b: IDictionary) => {\n  return a.value > b.value ? -1 : a.value === b.value ? 0 : 1;\n};\n\nexport function isOrderByChild(\n  query: SerializedRealTimeQuery,\n  fn: typeof orderByChild | typeof orderByKey\n): fn is typeof orderByChild {\n  return query.identity.orderBy === RealQueryOrderType.orderByChild;\n}\n","import { SerializedRealTimeQuery, RealQueryOrderType } from '@forest-fire/serialized-query';\nimport { hashToArray, arrayToHash } from 'typed-conversions';\nimport { IDictionary } from 'common-types';\nimport { SortOrder } from '../@types/query-types';\n\nimport * as sortFns from './sortFns';\nimport * as queryFilters from './queryFilters';\nimport * as limitFilters from './limitFilters';\n\nconst orderByKey = (list: IDictionary) => {\n  const keys = Object.keys(list).sort();\n  let hash: IDictionary = {};\n  keys.forEach((k) => {\n    hash[k] = list[k];\n  });\n  return hash;\n};\n\nconst orderByValue = (list: IDictionary, direction = SortOrder.asc) => {\n  const A = direction === SortOrder.asc ? 1 : -1;\n  const B = A * -1;\n  const values = hashToArray(list).sort((a, b) => (a.value > b.value ? 1 : -1));\n\n  return values.reduce((agg: IDictionary, curr) => {\n    agg[curr.id] = curr.value;\n    return agg;\n  }, {} as IDictionary);\n};\n\nconst sortFn: (query: any) => sortFns.ISortFns = (query) =>\n  query.identity.orderBy === RealQueryOrderType.orderByChild\n    ? sortFns.orderByChild(query.identity.orderByKey)\n    : (sortFns[\n        query.identity.orderBy as keyof typeof sortFns\n      ] as sortFns.ISortFns);\n\nexport function runQuery(query: SerializedRealTimeQuery, data: any) {\n  /**\n   * A boolean _flag_ to indicate whether the path is of the query points to a Dictionary\n   * of Objects. This is indicative of a **Firemodel** list node.\n   */\n  const isListOfObjects =\n    typeof data === 'object' &&\n    Object.keys(data).every((i) => typeof data[i] === 'object');\n  const dataIsAScalar = ['string', 'boolean', 'number'].includes(typeof data);\n\n  if (dataIsAScalar) {\n    return data;\n  }\n\n  const anArrayOfScalar =\n    Array.isArray(data) && data.every((i) => typeof i !== 'object');\n  const dataIsAnObject = !Array.isArray(data) && typeof data === 'object';\n\n  if (dataIsAnObject && !isListOfObjects) {\n    data =\n      query.identity.orderBy === 'orderByKey'\n        ? orderByKey(data)\n        : orderByValue(data);\n    // allows non-array data that can come from a 'value' listener\n    // to pass through at this point\n    const limitToKeys = query.identity.limitToFirst\n      ? Object.keys(data).slice(0, query.identity.limitToFirst)\n      : query.identity.limitToLast\n      ? Object.keys(data).slice(-1 * query.identity.limitToLast)\n      : false;\n\n    if (limitToKeys) {\n      Object.keys(data).forEach((k) => {\n        if (!limitToKeys.includes(k)) {\n          delete data[k];\n        }\n      });\n    }\n\n    return data;\n  }\n\n  const dataList = isListOfObjects || dataIsAnObject ? hashToArray(data) : data;\n\n  if (!dataList) {\n    return undefined;\n  }\n\n  const limitFilter = _limitFilter(query);\n  const queryFilter = _queryFilter(query);\n\n  const list = limitFilter(queryFilter(dataList.sort(sortFn(query))));\n\n  return isListOfObjects\n    ? // this is list of records to convert back to hash for Firebase compatability\n      arrayToHash(list)\n    : dataIsAnObject\n    ? // if it was an Object but values weren't objects then this is probably\n      // a key/value pairing\n      list.reduce((agg: IDictionary, curr) => {\n        if (curr.id && curr.value) {\n          // definitely looks like a id/value pairing\n          agg[curr.id] = curr.value;\n        } else if (curr.id) {\n          // has an ID so offset using the id but use the remainder of the hash\n          // as the value\n          const hash = { ...curr };\n          delete hash.id;\n          agg[curr.id] = hash;\n        } else {\n          console.log({\n            message: `Unsure what to do with part of a data structure resulting from the the query: ${query.identity}.\\n\\nThe item in question was: \"${curr}\".`,\n            severity: 0,\n          });\n        }\n\n        return agg;\n      }, {})\n    : list;\n}\n\nfunction _limitFilter(query: SerializedRealTimeQuery) {\n  const first = limitFilters.limitToFirst(query);\n  const last = limitFilters.limitToLast(query);\n\n  return (list: any[]) => {\n    return first(last(list));\n  };\n}\n\nfunction _queryFilter(query: SerializedRealTimeQuery) {\n  return (list: any[]) => {\n    return list\n      .filter(queryFilters.equalTo(query))\n      .filter(queryFilters.startAt(query))\n      .filter(queryFilters.endAt(query));\n  };\n}\n","import { IDictionary } from 'common-types';\n\n/**\n * **first**\n *\n * Returns the _first_ item in an array or dictionary. This\n * is intended as a direct replacement for `lodash.first()`\n *\n * @param items either an array (typically) or an object\n */\nexport function first<T = any>(items: T[] | IDictionary<T>) {\n  if (Array.isArray(items)) {\n    return items.slice(0, 1).pop();\n  }\n  if (typeof items === 'object') {\n    const key = Object.keys(items).slice(0, 1).pop();\n    return key ? items[key] : undefined;\n  }\n\n  return undefined;\n}\n","import { IDictionary } from 'common-types';\n\n/**\n * Gets a value in a deeply nested object. This is a replacement to `lodash.get`\n *\n * @param obj the base object to get the value from\n * @param dotPath the path to the object, using \".\" as a delimiter\n * @param defaultValue optionally you may state a default value if the operation results in `undefined`\n */\nexport function get<T = any>(\n  obj: IDictionary,\n  dotPath: string,\n  defaultValue?: any\n): T {\n  const parts = dotPath.split('.');\n  let value: any = obj;\n\n  parts.forEach((p) => {\n    value =\n      typeof value === 'object' && Object.keys(value).includes(p)\n        ? value[p as keyof typeof value]\n        : undefined;\n  });\n\n  return value ? value : defaultValue;\n}\n","export class FireMockError extends Error {\n  public firemodel = true;\n  public code: string;\n  constructor(message: string, classification: string = 'firemock/error') {\n    super(message);\n    const [cat, subcat] = classification.split('/');\n    this.code = subcat || 'error';\n    this.name = classification;\n  }\n}\n","import { FireMockError } from '@/errors';\nimport { IDictionary } from 'common-types';\n\n/**\n * Sets a value at a nested point within base object passed in. This is meant as a\n * replacement to use of `lodash.set()`.\n *\n * @param obj the base object which is being mutated\n * @param dotPath the path into the object where the mutation will take place, delimited by `.`\n * @param value The value to set at the _dotPath_\n * @param createIfNonExistant by default, if the path to the object does not exist then an error is thrown but if you want you can state the desire to have the full path created\n */\nexport function set(\n  obj: IDictionary,\n  dotPath: string,\n  value: any,\n  createIfNonExistant: boolean = true\n) {\n  if (!dotPath) {\n    throw new FireMockError(\n      `Attempt to set value into a dotPath but the dotPath was empty!`,\n      'not-allowed'\n    );\n  }\n  const parts = dotPath.split(/\\??\\./);\n  const allButLast = parts.slice(0, parts.length - 1);\n  const key = parts.pop();\n  let ref = obj;\n\n  // iterate the ref to the leaf node\n  allButLast.forEach((p) => {\n    if (!ref[p]) {\n      if (createIfNonExistant) {\n        ref[p as keyof typeof ref] = {};\n      } else {\n        throw new FireMockError(\n          `The dotPath -- ${dotPath} -- does not exist in the passed in object. You must either expressly state that you want the object structure created or this a real error that must be addressed otherwise. The part of the path which this failed on was \"${p}\".`\n        );\n      }\n    } else if (typeof ref[p] !== 'object') {\n      throw new FireMockError(\n        `Failed to set the path of \"${dotPath}\" of the passed in base object because the base object had a scalar value along that path and setting this would have changed the object's data structure in way which is not allowed! The scalar value was found in the \"${p}\" component of the path.`\n      );\n    }\n\n    ref = ref[p];\n  });\n\n  ref[key as keyof typeof ref] = value;\n}\n","import { IDictionary } from 'common-types';\nimport type {\n  IRtdbQuery,\n  IRtdbReference,\n  IRtdbDataSnapshot,\n  IRtdbDbEvent,\n} from '@forest-fire/types';\n\nimport { QueryValue, IFirebaseEventHandler, DelayType } from '@/@types';\nimport { getDb, SnapShot } from '@/rtdb';\nimport {\n  SerializedRealTimeQuery,\n  RealQueryOrderType,\n} from '@forest-fire/serialized-query';\nimport { leafNode, networkDelay, runQuery } from '@/util';\n\n/** tslint:ignore:member-ordering */\nexport abstract class Query<T = any> implements IRtdbQuery {\n  public path: string;\n  protected _query: SerializedRealTimeQuery;\n  protected _delay: DelayType;\n\n  constructor(path: string | SerializedRealTimeQuery, delay: DelayType = 5) {\n    this.path = (typeof path === 'string'\n      ? path\n      : SerializedRealTimeQuery.path) as string;\n    this._delay = delay;\n    this._query =\n      typeof path === 'string' ? SerializedRealTimeQuery.path(path) : path;\n  }\n\n  public get ref(): IRtdbReference {\n    return (this as unknown) as IRtdbReference;\n  }\n\n  public limitToLast(num: number): Query<T> {\n    this._query.limitToLast(num);\n\n    return this as Query<T>;\n  }\n\n  public limitToFirst(num: number): Query<T> {\n    this._query.limitToFirst(num);\n\n    return this;\n  }\n\n  public equalTo(value: QueryValue, key?: Extract<keyof T, string>): Query<T> {\n    if (key && this._query.identity.orderBy === RealQueryOrderType.orderByKey) {\n      throw new Error(\n        `You can not use \"equalTo(val, key)\" with a \"key\" property defined when using a key sort!`\n      );\n    }\n    this._query.equalTo(value, key);\n\n    return this as Query<T>;\n  }\n  /** Creates a Query with the specified starting point. */\n  public startAt(value: QueryValue, key?: string): Query<T> {\n    this._query.startAt(value, key);\n\n    return this as Query<T>;\n  }\n\n  public endAt(value: QueryValue, key?: string): Query<T> {\n    this._query.endAt(value, key);\n\n    return this;\n  }\n\n  /**\n   * Setup an event listener for a given eventType\n   */\n  public on(\n    eventType: IRtdbDbEvent,\n    callback: (a: IRtdbDataSnapshot, b?: null | string) => any,\n    cancelCallbackOrContext?: (err?: Error) => void | null,\n    context?: object | null\n  ): (a: IRtdbDataSnapshot, b?: null | string) => Promise<null> {\n    this.addListener(\n      this._query,\n      eventType,\n      callback,\n      cancelCallbackOrContext,\n      context\n    );\n\n    return null;\n  }\n\n  public async once(eventType: 'value'): Promise<IRtdbDataSnapshot> {\n    await networkDelay();\n    return this.getQuerySnapShot();\n  }\n\n  public off() {\n    console.log('off() not implemented yet on Firemock');\n  }\n\n  /**\n   * Returns a boolean flag based on whether the two queries --\n   * _this_ query and the one passed in -- are equivalen in scope.\n   */\n  public isEqual(other: Query) {\n    return this._query.hashCode() === other._query.hashCode();\n  }\n\n  /**\n   * When the children of a query are all objects, then you can sort them by a\n   * specific property. Note: if this happens a lot then it's best to explicitly\n   * index on this property in the database's config.\n   */\n  public orderByChild(prop: string): Query<T> {\n    this._query.orderByChild(prop);\n\n    return this;\n  }\n\n  /**\n   * When the children of a query are all scalar values (string, number, boolean), you\n   * can order the results by their (ascending) values\n   */\n  public orderByValue(): Query<T> {\n    this._query.orderByValue();\n\n    return this;\n  }\n\n  /**\n   * order is based on the order of the\n   * \"key\" which is time-based if you are using Firebase's\n   * _push-keys_.\n   *\n   * **Note:** this is the default sort if no sort is specified\n   */\n  public orderByKey(): Query<T> {\n    this._query.orderByKey();\n\n    return this;\n  }\n\n  /** NOT IMPLEMENTED */\n  public orderByPriority(): Query<T> {\n    return this;\n  }\n\n  public toJSON() {\n    return {\n      identity: this.toString(),\n      query: this._query.identity as IDictionary,\n    };\n  }\n\n  public toString() {\n    return `FireMock::Query@${process.env.FIREBASE_DATA_ROOT_URL}/${this.path}`;\n  }\n\n  /**\n   * This is an undocumented API endpoint that is within the\n   * typing provided by Google\n   */\n  protected getKey(): string | null {\n    return null;\n  }\n  /**\n   * This is an undocumented API endpoint that is within the\n   * typing provided by Google\n   */\n  protected getParent(): IRtdbReference | null {\n    return null;\n  }\n  /**\n   * This is an undocumented API endpoint that is within the\n   * typing provided by Google\n   */\n  protected getRoot(): IRtdbReference {\n    return null;\n  }\n\n  protected abstract addListener(\n    pathOrQuery: string | SerializedRealTimeQuery<any>,\n    eventType: IRtdbDbEvent,\n    callback: IFirebaseEventHandler,\n    cancelCallbackOrContext?: (err?: Error) => void,\n    context?: IDictionary\n  ): Promise<IRtdbDataSnapshot>;\n\n  /**\n   * Reduce the dataset using _filters_ (after sorts) but do not apply sort\n   * order to new SnapShot (so natural order is preserved)\n   */\n  private getQuerySnapShot() {\n    const path = this._query.path || this.path;\n    const data = getDb(path);\n    const results = runQuery(this._query, data);\n\n    return new SnapShot(leafNode(this._query.path), results ? results : null);\n  }\n}\n","import { IDictionary } from 'common-types';\nimport type {\n  IRtdbReference,\n  IRtdbDataSnapshot,\n  IRtdbThenableReference,\n  IRtdbDbEvent,\n} from '@forest-fire/types';\n\nimport { IFirebaseEventHandler, DelayType } from '@/@types';\n\nimport {\n  setDB,\n  updateDB,\n  pushDB,\n  removeDB,\n  multiPathUpdateDB,\n  SnapShot,\n  addListener,\n  Query,\n  getDb,\n} from '@/rtdb';\nimport { parts, join, slashNotation, networkDelay } from '@/util';\nimport { SerializedRealTimeQuery } from '@forest-fire/serialized-query';\n\nfunction isMultiPath(data: IDictionary) {\n  Object.keys(data).map((d: any) => {\n    if (!d) {\n      data[d] = '/';\n    }\n  });\n  const indexesAreStrings = Object.keys(data).every(\n    (i) => typeof i === 'string'\n  );\n  const indexesLookLikeAPath = Object.keys(data).every(\n    (i) => i.indexOf('/') !== -1\n  );\n  return indexesAreStrings && indexesLookLikeAPath ? true : false;\n}\n\nexport class Reference<T = any> extends Query<T> implements IRtdbReference {\n  public static createQuery(\n    query: string | SerializedRealTimeQuery,\n    delay: DelayType = 5\n  ) {\n    if (typeof query === 'string') {\n      query = new SerializedRealTimeQuery(query);\n    }\n    const obj = new Reference(query.path, delay);\n    obj._query = query;\n    return obj;\n  }\n  public static create(path: string) {\n    return new Reference(path);\n  }\n\n  constructor(path: string, _delay: DelayType = 5) {\n    super(path, _delay);\n  }\n\n  public get key(): string | null {\n    return this.path.split('.').pop();\n  }\n\n  public get parent(): IRtdbReference | null {\n    const r = parts(this.path).slice(-1).join('.');\n    return new Reference(r, getDb(r));\n  }\n\n  public child<C = any>(path: string): Reference {\n    const r = parts(this.path).concat([path]).join('.');\n    return new Reference<C>(r, getDb(r));\n  }\n\n  public get root(): Reference {\n    return new Reference('/', getDb('/'));\n  }\n\n  public push(\n    value?: any,\n    onComplete?: (a: Error | null) => any\n  ): IRtdbThenableReference {\n    const id = pushDB(this.path, value);\n    this.path = join(this.path, id);\n    if (onComplete) {\n      onComplete(null);\n    }\n\n    const ref = networkDelay<Reference<T>>(this);\n    return ref as any;\n  }\n\n  public remove(onComplete?: (a: Error | null) => any): Promise<void> {\n    removeDB(this.path);\n    if (onComplete) {\n      onComplete(null);\n    }\n    return networkDelay<void>();\n  }\n\n  public set(value: any, onComplete?: (a: Error | null) => any): Promise<void> {\n    setDB(this.path, value);\n    if (onComplete) {\n      onComplete(null);\n    }\n    return networkDelay<void>();\n  }\n\n  public update(\n    values: IDictionary,\n    onComplete?: (a: Error | null) => any\n  ): Promise<void> {\n    if (isMultiPath(values)) {\n      multiPathUpdateDB(values);\n    } else {\n      updateDB(this.path, values);\n    }\n    if (onComplete) {\n      onComplete(null);\n    }\n    return networkDelay<void>();\n  }\n\n  public setPriority(\n    priority: string | number | null,\n    onComplete: (a: Error | null) => any\n  ): Promise<void> {\n    return networkDelay<void>();\n  }\n\n  public setWithPriority(\n    newVal: any,\n    newPriority: string | number | null,\n    onComplete: (a: Error | null) => any\n  ) {\n    return networkDelay<void>();\n  }\n\n  public transaction(\n    transactionUpdate: (a: Partial<T>) => Partial<T>,\n    onComplete?: (\n      a: Error | null,\n      b: boolean,\n      c: IRtdbDataSnapshot | null\n    ) => any,\n    applyLocally?: boolean\n  ) {\n    return Promise.resolve({\n      committed: true,\n      snapshot: null,\n      toJSON() {\n        return {};\n      },\n    });\n  }\n\n  public onDisconnect(): any {\n    return {};\n  }\n\n  public toString() {\n    return this.path\n      ? slashNotation(join('FireMock::Reference@', this.path, this.key))\n      : 'FireMock::Reference@uninitialized (aka, no path) mock Reference object';\n  }\n\n  protected getSnapshot<T extends IRtdbDataSnapshot>(key: string, value: any) {\n    return new SnapShot<T>(key, value);\n  }\n\n  protected addListener(\n    pathOrQuery: string | SerializedRealTimeQuery<any>,\n    eventType: IRtdbDbEvent,\n    callback: IFirebaseEventHandler,\n    cancelCallbackOrContext?: (err?: Error) => void,\n    context?: IDictionary\n  ): Promise<IRtdbDataSnapshot> {\n    return addListener(\n      pathOrQuery,\n      eventType,\n      callback,\n      cancelCallbackOrContext,\n      context\n    );\n  }\n}\n","import { IDictionary, SortingFunction } from 'common-types';\nimport type { IRtdbDataSnapshot } from '@forest-fire/types';\n\nimport { Reference } from '@/rtdb';\nimport { arrayToHash } from 'typed-conversions';\nimport { getKey, join, get } from '@/util';\n\n/**\n * Each record in the forEach iteration will be passed\n * a snapshot synchronously; if you wish to exit early\n * return a TRUE value\n */\nexport type Action = (record: SnapShot) => boolean | void;\n\nexport class SnapShot<T = any> implements IRtdbDataSnapshot {\n  private _sortingFunction: SortingFunction;\n  constructor(private _key: string, private _value: T[] | T) {}\n\n  public get key() {\n    return getKey(join(this._key));\n  }\n\n  public get ref() {\n    return new Reference<T>(this._key);\n  }\n\n  public val(): T | IDictionary<T> {\n    return Array.isArray(this._value) ? arrayToHash(this._value) : this._value;\n  }\n\n  public toJSON() {\n    return JSON.stringify(this._value);\n  }\n\n  public child<TC = IDictionary>(path: string) {\n    const value = get(this._value, path, null);\n    return value ? new SnapShot<TC>(path, value) : null;\n  }\n\n  public hasChild(path: string): boolean {\n    if (typeof this._value === 'object') {\n      return Object.keys(this._value).indexOf(path) !== -1;\n    }\n\n    return false;\n  }\n\n  public hasChildren(): boolean {\n    if (typeof this._value === 'object') {\n      return Object.keys(this._value).length > 0;\n    }\n\n    return false;\n  }\n\n  public numChildren(): number {\n    if (typeof this._value === 'object') {\n      return Object.keys(this._value).length;\n    }\n\n    return 0;\n  }\n\n  public exists(): boolean {\n    return this._value !== null;\n  }\n\n  public forEach(actionCb: Action) {\n    const cloned: any = (this._value as any).slice(0);\n    const sorted = cloned.sort(this._sortingFunction);\n    sorted.map((item: any) => {\n      const noId = { ...{}, ...(item as any) };\n      delete noId.id;\n      const halt = actionCb(new SnapShot(item.id, noId));\n      if (halt) {\n        return true;\n      }\n    });\n\n    return false;\n  }\n\n  /** NOTE: mocking proxies this call through to val(), no use of \"priority\" */\n  public exportVal() {\n    return this.val();\n  }\n\n  public getPriority(): string | number | null {\n    return null;\n  }\n\n  /**\n   * Used by Query objects to instruct the snapshot the sorting function to use\n   */\n  public sortingFunction(fn: SortingFunction) {\n    this._sortingFunction = fn;\n\n    return this;\n  }\n}\n","var toStringFunction = Function.prototype.toString;\r\nvar create = Object.create, defineProperty = Object.defineProperty, getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor, getOwnPropertyNames = Object.getOwnPropertyNames, getOwnPropertySymbols = Object.getOwnPropertySymbols, getPrototypeOf = Object.getPrototypeOf;\r\nvar _a = Object.prototype, hasOwnProperty = _a.hasOwnProperty, propertyIsEnumerable = _a.propertyIsEnumerable;\r\n/**\r\n * @enum\r\n *\r\n * @const {Object} SUPPORTS\r\n *\r\n * @property {boolean} SYMBOL_PROPERTIES are symbol properties supported\r\n * @property {boolean} WEAKMAP is WeakMap supported\r\n */\r\nvar SUPPORTS = {\r\n    SYMBOL_PROPERTIES: typeof getOwnPropertySymbols === 'function',\r\n    WEAKMAP: typeof WeakMap === 'function',\r\n};\r\n/**\r\n * @function createCache\r\n *\r\n * @description\r\n * get a new cache object to prevent circular references\r\n *\r\n * @returns the new cache object\r\n */\r\nvar createCache = function () {\r\n    if (SUPPORTS.WEAKMAP) {\r\n        return new WeakMap();\r\n    }\r\n    // tiny implementation of WeakMap\r\n    var object = create({\r\n        has: function (key) { return !!~object._keys.indexOf(key); },\r\n        set: function (key, value) {\r\n            object._keys.push(key);\r\n            object._values.push(value);\r\n        },\r\n        get: function (key) { return object._values[object._keys.indexOf(key)]; },\r\n    });\r\n    object._keys = [];\r\n    object._values = [];\r\n    return object;\r\n};\r\n/**\r\n * @function getCleanClone\r\n *\r\n * @description\r\n * get an empty version of the object with the same prototype it has\r\n *\r\n * @param object the object to build a clean clone from\r\n * @param realm the realm the object resides in\r\n * @returns the empty cloned object\r\n */\r\nvar getCleanClone = function (object, realm) {\r\n    if (!object.constructor) {\r\n        return create(null);\r\n    }\r\n    var Constructor = object.constructor;\r\n    var prototype = object.__proto__ || getPrototypeOf(object);\r\n    if (Constructor === realm.Object) {\r\n        return prototype === realm.Object.prototype ? {} : create(prototype);\r\n    }\r\n    if (~toStringFunction.call(Constructor).indexOf('[native code]')) {\r\n        try {\r\n            return new Constructor();\r\n        }\r\n        catch (_a) { }\r\n    }\r\n    return create(prototype);\r\n};\r\n/**\r\n * @function getObjectCloneLoose\r\n *\r\n * @description\r\n * get a copy of the object based on loose rules, meaning all enumerable keys\r\n * and symbols are copied, but property descriptors are not considered\r\n *\r\n * @param object the object to clone\r\n * @param realm the realm the object resides in\r\n * @param handleCopy the function that handles copying the object\r\n * @returns the copied object\r\n */\r\nvar getObjectCloneLoose = function (object, realm, handleCopy, cache) {\r\n    var clone = getCleanClone(object, realm);\r\n    // set in the cache immediately to be able to reuse the object recursively\r\n    cache.set(object, clone);\r\n    for (var key in object) {\r\n        if (hasOwnProperty.call(object, key)) {\r\n            clone[key] = handleCopy(object[key], cache);\r\n        }\r\n    }\r\n    if (SUPPORTS.SYMBOL_PROPERTIES) {\r\n        var symbols = getOwnPropertySymbols(object);\r\n        var length_1 = symbols.length;\r\n        if (length_1) {\r\n            for (var index = 0, symbol = void 0; index < length_1; index++) {\r\n                symbol = symbols[index];\r\n                if (propertyIsEnumerable.call(object, symbol)) {\r\n                    clone[symbol] = handleCopy(object[symbol], cache);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return clone;\r\n};\r\n/**\r\n * @function getObjectCloneStrict\r\n *\r\n * @description\r\n * get a copy of the object based on strict rules, meaning all keys and symbols\r\n * are copied based on the original property descriptors\r\n *\r\n * @param object the object to clone\r\n * @param realm the realm the object resides in\r\n * @param handleCopy the function that handles copying the object\r\n * @returns the copied object\r\n */\r\nvar getObjectCloneStrict = function (object, realm, handleCopy, cache) {\r\n    var clone = getCleanClone(object, realm);\r\n    // set in the cache immediately to be able to reuse the object recursively\r\n    cache.set(object, clone);\r\n    var properties = SUPPORTS.SYMBOL_PROPERTIES\r\n        ? getOwnPropertyNames(object).concat(getOwnPropertySymbols(object))\r\n        : getOwnPropertyNames(object);\r\n    var length = properties.length;\r\n    if (length) {\r\n        for (var index = 0, property = void 0, descriptor = void 0; index < length; index++) {\r\n            property = properties[index];\r\n            if (property !== 'callee' && property !== 'caller') {\r\n                descriptor = getOwnPropertyDescriptor(object, property);\r\n                if (descriptor) {\r\n                    // Only clone the value if actually a value, not a getter / setter.\r\n                    if (!descriptor.get && !descriptor.set) {\r\n                        descriptor.value = handleCopy(object[property], cache);\r\n                    }\r\n                    try {\r\n                        defineProperty(clone, property, descriptor);\r\n                    }\r\n                    catch (error) {\r\n                        // Tee above can fail on node in edge cases, so fall back to the loose assignment.\r\n                        clone[property] = descriptor.value;\r\n                    }\r\n                }\r\n                else {\r\n                    // In extra edge cases where the property descriptor cannot be retrived, fall back to\r\n                    // the loose assignment.\r\n                    clone[property] = handleCopy(object[property], cache);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return clone;\r\n};\r\n/**\r\n * @function getRegExpFlags\r\n *\r\n * @description\r\n * get the flags to apply to the copied regexp\r\n *\r\n * @param regExp the regexp to get the flags of\r\n * @returns the flags for the regexp\r\n */\r\nvar getRegExpFlags = function (regExp) {\r\n    var flags = '';\r\n    if (regExp.global) {\r\n        flags += 'g';\r\n    }\r\n    if (regExp.ignoreCase) {\r\n        flags += 'i';\r\n    }\r\n    if (regExp.multiline) {\r\n        flags += 'm';\r\n    }\r\n    if (regExp.unicode) {\r\n        flags += 'u';\r\n    }\r\n    if (regExp.sticky) {\r\n        flags += 'y';\r\n    }\r\n    return flags;\r\n};\n\n// utils\r\nvar isArray = Array.isArray;\r\nvar GLOBAL_THIS = (function () {\r\n    if (typeof self !== 'undefined') {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined') {\r\n        return window;\r\n    }\r\n    if (typeof global !== 'undefined') {\r\n        return global;\r\n    }\r\n    if (console && console.error) {\r\n        console.error('Unable to locate global object, returning \"this\".');\r\n    }\r\n})();\r\n/**\r\n * @function copy\r\n *\r\n * @description\r\n * copy an object deeply as much as possible\r\n *\r\n * If `strict` is applied, then all properties (including non-enumerable ones)\r\n * are copied with their original property descriptors on both objects and arrays.\r\n *\r\n * The object is compared to the global constructors in the `realm` provided,\r\n * and the native constructor is always used to ensure that extensions of native\r\n * objects (allows in ES2015+) are maintained.\r\n *\r\n * @param object the object to copy\r\n * @param [options] the options for copying with\r\n * @param [options.isStrict] should the copy be strict\r\n * @param [options.realm] the realm (this) object the object is copied from\r\n * @returns the copied object\r\n */\r\nfunction copy(object, options) {\r\n    // manually coalesced instead of default parameters for performance\r\n    var isStrict = !!(options && options.isStrict);\r\n    var realm = (options && options.realm) || GLOBAL_THIS;\r\n    var getObjectClone = isStrict\r\n        ? getObjectCloneStrict\r\n        : getObjectCloneLoose;\r\n    /**\r\n     * @function handleCopy\r\n     *\r\n     * @description\r\n     * copy the object recursively based on its type\r\n     *\r\n     * @param object the object to copy\r\n     * @returns the copied object\r\n     */\r\n    var handleCopy = function (object, cache) {\r\n        if (!object || typeof object !== 'object') {\r\n            return object;\r\n        }\r\n        if (cache.has(object)) {\r\n            return cache.get(object);\r\n        }\r\n        var Constructor = object.constructor;\r\n        // plain objects\r\n        if (Constructor === realm.Object) {\r\n            return getObjectClone(object, realm, handleCopy, cache);\r\n        }\r\n        var clone;\r\n        // arrays\r\n        if (isArray(object)) {\r\n            // if strict, include non-standard properties\r\n            if (isStrict) {\r\n                return getObjectCloneStrict(object, realm, handleCopy, cache);\r\n            }\r\n            var length_1 = object.length;\r\n            clone = new Constructor();\r\n            cache.set(object, clone);\r\n            for (var index = 0; index < length_1; index++) {\r\n                clone[index] = handleCopy(object[index], cache);\r\n            }\r\n            return clone;\r\n        }\r\n        // dates\r\n        if (object instanceof realm.Date) {\r\n            return new Constructor(object.getTime());\r\n        }\r\n        // regexps\r\n        if (object instanceof realm.RegExp) {\r\n            clone = new Constructor(object.source, object.flags || getRegExpFlags(object));\r\n            clone.lastIndex = object.lastIndex;\r\n            return clone;\r\n        }\r\n        // maps\r\n        if (realm.Map && object instanceof realm.Map) {\r\n            clone = new Constructor();\r\n            cache.set(object, clone);\r\n            object.forEach(function (value, key) {\r\n                clone.set(key, handleCopy(value, cache));\r\n            });\r\n            return clone;\r\n        }\r\n        // sets\r\n        if (realm.Set && object instanceof realm.Set) {\r\n            clone = new Constructor();\r\n            cache.set(object, clone);\r\n            object.forEach(function (value) {\r\n                clone.add(handleCopy(value, cache));\r\n            });\r\n            return clone;\r\n        }\r\n        // blobs\r\n        if (realm.Blob && object instanceof realm.Blob) {\r\n            clone = new Blob([object], { type: object.type });\r\n            return clone;\r\n        }\r\n        // buffers (node-only)\r\n        if (realm.Buffer && realm.Buffer.isBuffer(object)) {\r\n            clone = realm.Buffer.allocUnsafe\r\n                ? realm.Buffer.allocUnsafe(object.length)\r\n                : new Constructor(object.length);\r\n            cache.set(object, clone);\r\n            object.copy(clone);\r\n            return clone;\r\n        }\r\n        // arraybuffers / dataviews\r\n        if (realm.ArrayBuffer) {\r\n            // dataviews\r\n            if (realm.ArrayBuffer.isView(object)) {\r\n                clone = new Constructor(object.buffer.slice(0));\r\n                cache.set(object, clone);\r\n                return clone;\r\n            }\r\n            // arraybuffers\r\n            if (object instanceof realm.ArrayBuffer) {\r\n                clone = object.slice(0);\r\n                cache.set(object, clone);\r\n                return clone;\r\n            }\r\n        }\r\n        // if the object cannot / should not be cloned, don't\r\n        if (\r\n        // promise-like\r\n        typeof object.then === 'function' ||\r\n            // errors\r\n            object instanceof Error ||\r\n            // weakmaps\r\n            (realm.WeakMap && object instanceof realm.WeakMap) ||\r\n            // weaksets\r\n            (realm.WeakSet && object instanceof realm.WeakSet)) {\r\n            return object;\r\n        }\r\n        // assume anything left is a custom constructor\r\n        return getObjectClone(object, realm, handleCopy, cache);\r\n    };\r\n    return handleCopy(object, createCache());\r\n}\r\n/**\r\n * @function strictCopy\r\n *\r\n * @description\r\n * copy the object with `strict` option pre-applied\r\n *\r\n * @param object the object to copy\r\n * @param [options] the options for copying with\r\n * @param [options.realm] the realm (this) object the object is copied from\r\n * @returns the copied object\r\n */\r\ncopy.strict = function strictCopy(object, options) {\r\n    return copy(object, {\r\n        isStrict: true,\r\n        realm: options ? options.realm : void 0,\r\n    });\r\n};\n\nexport default copy;\n//# sourceMappingURL=fast-copy.esm.js.map\n","var HAS_WEAKSET_SUPPORT = typeof WeakSet === 'function';\r\nvar keys = Object.keys;\r\n/**\r\n * @function addToCache\r\n *\r\n * add object to cache if an object\r\n *\r\n * @param value the value to potentially add to cache\r\n * @param cache the cache to add to\r\n */\r\nfunction addToCache(value, cache) {\r\n    if (value && typeof value === 'object') {\r\n        cache.add(value);\r\n    }\r\n}\r\n/**\r\n * @function hasPair\r\n *\r\n * @description\r\n * does the `pairToMatch` exist in the list of `pairs` provided based on the\r\n * `isEqual` check\r\n *\r\n * @param pairs the pairs to compare against\r\n * @param pairToMatch the pair to match\r\n * @param isEqual the equality comparator used\r\n * @param meta the meta provided\r\n * @returns does the pair exist in the pairs provided\r\n */\r\nfunction hasPair(pairs, pairToMatch, isEqual, meta) {\r\n    var length = pairs.length;\r\n    var pair;\r\n    for (var index = 0; index < length; index++) {\r\n        pair = pairs[index];\r\n        if (isEqual(pair[0], pairToMatch[0], meta) &&\r\n            isEqual(pair[1], pairToMatch[1], meta)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * @function hasValue\r\n *\r\n * @description\r\n * does the `valueToMatch` exist in the list of `values` provided based on the\r\n * `isEqual` check\r\n *\r\n * @param values the values to compare against\r\n * @param valueToMatch the value to match\r\n * @param isEqual the equality comparator used\r\n * @param meta the meta provided\r\n * @returns does the value exist in the values provided\r\n */\r\nfunction hasValue(values, valueToMatch, isEqual, meta) {\r\n    var length = values.length;\r\n    for (var index = 0; index < length; index++) {\r\n        if (isEqual(values[index], valueToMatch, meta)) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * @function sameValueZeroEqual\r\n *\r\n * @description\r\n * are the values passed strictly equal or both NaN\r\n *\r\n * @param a the value to compare against\r\n * @param b the value to test\r\n * @returns are the values equal by the SameValueZero principle\r\n */\r\nfunction sameValueZeroEqual(a, b) {\r\n    return a === b || (a !== a && b !== b);\r\n}\r\n/**\r\n * @function isPlainObject\r\n *\r\n * @description\r\n * is the value a plain object\r\n *\r\n * @param value the value to test\r\n * @returns is the value a plain object\r\n */\r\nfunction isPlainObject(value) {\r\n    return value.constructor === Object || value.constructor == null;\r\n}\r\n/**\r\n * @function isPromiseLike\r\n *\r\n * @description\r\n * is the value promise-like (meaning it is thenable)\r\n *\r\n * @param value the value to test\r\n * @returns is the value promise-like\r\n */\r\nfunction isPromiseLike(value) {\r\n    return !!value && typeof value.then === 'function';\r\n}\r\n/**\r\n * @function isReactElement\r\n *\r\n * @description\r\n * is the value passed a react element\r\n *\r\n * @param value the value to test\r\n * @returns is the value a react element\r\n */\r\nfunction isReactElement(value) {\r\n    return !!(value && value.$$typeof);\r\n}\r\n/**\r\n * @function getNewCacheFallback\r\n *\r\n * @description\r\n * in cases where WeakSet is not supported, creates a new custom\r\n * object that mimics the necessary API aspects for cache purposes\r\n *\r\n * @returns the new cache object\r\n */\r\nfunction getNewCacheFallback() {\r\n    return Object.create({\r\n        _values: [],\r\n        add: function (value) {\r\n            this._values.push(value);\r\n        },\r\n        has: function (value) {\r\n            return this._values.indexOf(value) !== -1;\r\n        },\r\n    });\r\n}\r\n/**\r\n * @function getNewCache\r\n *\r\n * @description\r\n * get a new cache object to prevent circular references\r\n *\r\n * @returns the new cache object\r\n */\r\nvar getNewCache = (function (canUseWeakMap) {\r\n    if (canUseWeakMap) {\r\n        return function _getNewCache() {\r\n            return new WeakSet();\r\n        };\r\n    }\r\n    return getNewCacheFallback;\r\n})(HAS_WEAKSET_SUPPORT);\r\n/**\r\n * @function createCircularEqualCreator\r\n *\r\n * @description\r\n * create a custom isEqual handler specific to circular objects\r\n *\r\n * @param [isEqual] the isEqual comparator to use instead of isDeepEqual\r\n * @returns the method to create the `isEqual` function\r\n */\r\nfunction createCircularEqualCreator(isEqual) {\r\n    return function createCircularEqual(comparator) {\r\n        var _comparator = isEqual || comparator;\r\n        return function circularEqual(a, b, cache) {\r\n            if (cache === void 0) { cache = getNewCache(); }\r\n            var hasA = cache.has(a);\r\n            var hasB = cache.has(b);\r\n            if (hasA || hasB) {\r\n                return hasA && hasB;\r\n            }\r\n            addToCache(a, cache);\r\n            addToCache(b, cache);\r\n            return _comparator(a, b, cache);\r\n        };\r\n    };\r\n}\r\n/**\r\n * @function toPairs\r\n *\r\n * @description\r\n * convert the map passed into pairs (meaning an array of [key, value] tuples)\r\n *\r\n * @param map the map to convert to [key, value] pairs (entries)\r\n * @returns the [key, value] pairs\r\n */\r\nfunction toPairs(map) {\r\n    var pairs = new Array(map.size);\r\n    var index = 0;\r\n    map.forEach(function (value, key) {\r\n        pairs[index++] = [key, value];\r\n    });\r\n    return pairs;\r\n}\r\n/**\r\n * @function toValues\r\n *\r\n * @description\r\n * convert the set passed into values\r\n *\r\n * @param set the set to convert to values\r\n * @returns the values\r\n */\r\nfunction toValues(set) {\r\n    var values = new Array(set.size);\r\n    var index = 0;\r\n    set.forEach(function (value) {\r\n        values[index++] = value;\r\n    });\r\n    return values;\r\n}\r\n/**\r\n * @function areArraysEqual\r\n *\r\n * @description\r\n * are the arrays equal in value\r\n *\r\n * @param a the array to test\r\n * @param b the array to test against\r\n * @param isEqual the comparator to determine equality\r\n * @param meta the meta object to pass through\r\n * @returns are the arrays equal\r\n */\r\nfunction areArraysEqual(a, b, isEqual, meta) {\r\n    var length = a.length;\r\n    if (b.length !== length) {\r\n        return false;\r\n    }\r\n    for (var index = 0; index < length; index++) {\r\n        if (!isEqual(a[index], b[index], meta)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * @function areMapsEqual\r\n *\r\n * @description\r\n * are the maps equal in value\r\n *\r\n * @param a the map to test\r\n * @param b the map to test against\r\n * @param isEqual the comparator to determine equality\r\n * @param meta the meta map to pass through\r\n * @returns are the maps equal\r\n */\r\nfunction areMapsEqual(a, b, isEqual, meta) {\r\n    if (a.size !== b.size) {\r\n        return false;\r\n    }\r\n    var pairsA = toPairs(a);\r\n    var pairsB = toPairs(b);\r\n    var length = pairsA.length;\r\n    for (var index = 0; index < length; index++) {\r\n        if (!hasPair(pairsB, pairsA[index], isEqual, meta) ||\r\n            !hasPair(pairsA, pairsB[index], isEqual, meta)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nvar OWNER = '_owner';\r\nvar hasOwnProperty = Function.prototype.bind.call(Function.prototype.call, Object.prototype.hasOwnProperty);\r\n/**\r\n * @function areObjectsEqual\r\n *\r\n * @description\r\n * are the objects equal in value\r\n *\r\n * @param a the object to test\r\n * @param b the object to test against\r\n * @param isEqual the comparator to determine equality\r\n * @param meta the meta object to pass through\r\n * @returns are the objects equal\r\n */\r\nfunction areObjectsEqual(a, b, isEqual, meta) {\r\n    var keysA = keys(a);\r\n    var length = keysA.length;\r\n    if (keys(b).length !== length) {\r\n        return false;\r\n    }\r\n    var key;\r\n    for (var index = 0; index < length; index++) {\r\n        key = keysA[index];\r\n        if (!hasOwnProperty(b, key)) {\r\n            return false;\r\n        }\r\n        if (key === OWNER && isReactElement(a)) {\r\n            if (!isReactElement(b)) {\r\n                return false;\r\n            }\r\n        }\r\n        else if (!isEqual(a[key], b[key], meta)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * @function areRegExpsEqual\r\n *\r\n * @description\r\n * are the regExps equal in value\r\n *\r\n * @param a the regExp to test\r\n * @param b the regExp to test agains\r\n * @returns are the regExps equal\r\n */\r\nfunction areRegExpsEqual(a, b) {\r\n    return (a.source === b.source &&\r\n        a.global === b.global &&\r\n        a.ignoreCase === b.ignoreCase &&\r\n        a.multiline === b.multiline &&\r\n        a.unicode === b.unicode &&\r\n        a.sticky === b.sticky &&\r\n        a.lastIndex === b.lastIndex);\r\n}\r\n/**\r\n * @function areSetsEqual\r\n *\r\n * @description\r\n * are the sets equal in value\r\n *\r\n * @param a the set to test\r\n * @param b the set to test against\r\n * @param isEqual the comparator to determine equality\r\n * @param meta the meta set to pass through\r\n * @returns are the sets equal\r\n */\r\nfunction areSetsEqual(a, b, isEqual, meta) {\r\n    if (a.size !== b.size) {\r\n        return false;\r\n    }\r\n    var valuesA = toValues(a);\r\n    var valuesB = toValues(b);\r\n    var length = valuesA.length;\r\n    for (var index = 0; index < length; index++) {\r\n        if (!hasValue(valuesB, valuesA[index], isEqual, meta) ||\r\n            !hasValue(valuesA, valuesB[index], isEqual, meta)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\n\nvar isArray = Array.isArray;\r\nvar HAS_MAP_SUPPORT = typeof Map === 'function';\r\nvar HAS_SET_SUPPORT = typeof Set === 'function';\r\nvar OBJECT_TYPEOF = 'object';\r\nfunction createComparator(createIsEqual) {\r\n    var isEqual = \r\n    /* eslint-disable no-use-before-define */\r\n    typeof createIsEqual === 'function'\r\n        ? createIsEqual(comparator)\r\n        : comparator;\r\n    /* eslint-enable */\r\n    /**\r\n     * @function comparator\r\n     *\r\n     * @description\r\n     * compare the value of the two objects and return true if they are equivalent in values\r\n     *\r\n     * @param a the value to test against\r\n     * @param b the value to test\r\n     * @param [meta] an optional meta object that is passed through to all equality test calls\r\n     * @returns are a and b equivalent in value\r\n     */\r\n    function comparator(a, b, meta) {\r\n        if (sameValueZeroEqual(a, b)) {\r\n            return true;\r\n        }\r\n        if (a && b && typeof a === OBJECT_TYPEOF && typeof b === OBJECT_TYPEOF) {\r\n            if (isPlainObject(a) && isPlainObject(b)) {\r\n                return areObjectsEqual(a, b, isEqual, meta);\r\n            }\r\n            var arrayA = isArray(a);\r\n            var arrayB = isArray(b);\r\n            if (arrayA || arrayB) {\r\n                return arrayA === arrayB && areArraysEqual(a, b, isEqual, meta);\r\n            }\r\n            var aDate = a instanceof Date;\r\n            var bDate = b instanceof Date;\r\n            if (aDate || bDate) {\r\n                return aDate === bDate && sameValueZeroEqual(a.getTime(), b.getTime());\r\n            }\r\n            var aRegExp = a instanceof RegExp;\r\n            var bRegExp = b instanceof RegExp;\r\n            if (aRegExp || bRegExp) {\r\n                return aRegExp === bRegExp && areRegExpsEqual(a, b);\r\n            }\r\n            if (isPromiseLike(a) || isPromiseLike(b)) {\r\n                return a === b;\r\n            }\r\n            if (HAS_MAP_SUPPORT) {\r\n                var aMap = a instanceof Map;\r\n                var bMap = b instanceof Map;\r\n                if (aMap || bMap) {\r\n                    return aMap === bMap && areMapsEqual(a, b, isEqual, meta);\r\n                }\r\n            }\r\n            if (HAS_SET_SUPPORT) {\r\n                var aSet = a instanceof Set;\r\n                var bSet = b instanceof Set;\r\n                if (aSet || bSet) {\r\n                    return aSet === bSet && areSetsEqual(a, b, isEqual, meta);\r\n                }\r\n            }\r\n            return areObjectsEqual(a, b, isEqual, meta);\r\n        }\r\n        return false;\r\n    }\r\n    return comparator;\r\n}\n\n// comparator\r\nvar deepEqual = createComparator();\r\nvar shallowEqual = createComparator(function () { return sameValueZeroEqual; });\r\nvar circularDeepEqual = createComparator(createCircularEqualCreator());\r\nvar circularShallowEqual = createComparator(createCircularEqualCreator(sameValueZeroEqual));\n\nexport { circularDeepEqual, circularShallowEqual, createComparator as createCustomEqual, deepEqual, sameValueZeroEqual, shallowEqual };\n//# sourceMappingURL=fast-equals.esm.js.map\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","export var alphabet = \"-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz\";\r\n","export function randomString(alphabet, length) {\r\n    var buffer = [];\r\n    length = length | 0;\r\n    while (length) {\r\n        var r = (Math.random() * alphabet.length) | 0;\r\n        buffer.push(alphabet.charAt(r));\r\n        length -= 1;\r\n    }\r\n    return buffer.join(\"\");\r\n}\r\n","import { alphabet } from \"./key-alphabet\";\r\nimport { randomString } from \"./text-random-string\";\r\nvar lastTimestamp = 0;\r\nexport function key(timestamp, as) {\r\n    if (timestamp === undefined) {\r\n        timestamp = Date.now();\r\n        if (timestamp <= lastTimestamp) {\r\n            timestamp = lastTimestamp + 1;\r\n        }\r\n        lastTimestamp = timestamp;\r\n    }\r\n    if (timestamp instanceof Date) {\r\n        timestamp = timestamp.getTime();\r\n    }\r\n    var result = new Array(9);\r\n    for (var i = 7; i >= 0; --i) {\r\n        result[i] = alphabet.charAt(timestamp % 64);\r\n        timestamp = Math.floor(timestamp / 64);\r\n    }\r\n    if (timestamp !== 0) {\r\n        throw new Error(\"Unexpected timestamp.\");\r\n    }\r\n    switch (as) {\r\n        case \"max\":\r\n            result[8] = \"zzzzzzzzzzzz\";\r\n            break;\r\n        case \"min\":\r\n            result[8] = \"------------\";\r\n            break;\r\n        default:\r\n            result[8] = randomString(alphabet, 12);\r\n    }\r\n    return result.join(\"\");\r\n}\r\nexport function resetLastTimestamp() {\r\n    lastTimestamp = 0;\r\n}\r\n","import type {\n  User,\n  IdTokenResult,\n  AuthCredential,\n  ApplicationVerifier,\n  AuthProvider,\n  ActionCodeSettings,\n  UserCredential,\n} from '@forest-fire/types';\nimport { fakeApplicationVerifier } from '../completeUserCredential';\n\nexport const notImplemented: Partial<User> = {\n  /** Deletes and signs out the user. */\n  async delete(): Promise<void> {\n    throw new Error(\n      'the Mock Auth feature for delete() is not yet implemented'\n    );\n  },\n\n  async linkAndRetrieveDataWithCredential(credential: AuthCredential) {\n    throw new Error(\n      `linkAndRetrieveDataWithCredential() is not implemented yet in the client-sdk's mock auth`\n    );\n  },\n\n  async linkWithCredential(credential: AuthCredential) {\n    throw new Error(\n      `linkWithCredential() is not implemented yet in the client-sdk's mock auth`\n    );\n  },\n\n  async linkWithPhoneNumber(\n    phoneNUmber: string,\n    applicationVerificer: ApplicationVerifier\n  ) {\n    return fakeApplicationVerifier;\n  },\n\n  async linkWithPopup(provider: AuthProvider) {\n    throw new Error(\n      `linkWithPopup() is not implemented yet in the client-sdk's mock auth`\n    );\n  },\n  async linkWithRedirect(provider: AuthProvider) {\n    return;\n  },\n  async reauthenticateAndRetrieveDataWithCredential(\n    credential: AuthCredential\n  ) {\n    throw new Error(\n      `reauthenticateAndRetrieveDataWithCredential() is not implemented yet in the client-sdk's mock auth`\n    );\n  },\n  async reauthenticateWithCredential(credential: AuthCredential) {\n    throw new Error(\n      `reauthenticateWithCredential() is not implemented yet in the client-sdk's mock auth`\n    );\n  },\n  async reauthenticateWithPhoneNumber(\n    phoneNumber: string,\n    applicationVerifier: ApplicationVerifier\n  ) {\n    return fakeApplicationVerifier;\n  },\n  async reauthenticateWithPopup(\n    provider: AuthProvider\n  ): Promise<UserCredential> {\n    throw new Error(\n      `reauthenticateWithPopup() is not implemented yet in the client-sdk's mock auth`\n    );\n  },\n  async reauthenticateWithRedirect(provider: AuthProvider) {\n    throw new Error(\n      `reauthenticateWithRedirect() is not implemented yet in the client-sdk's mock auth`\n    );\n  },\n  async reload() {\n    return;\n  },\n  async sendEmailVerification(actionCodeSettings: ActionCodeSettings) {\n    throw new Error(\n      `sendEmailVerification() is not implemented yet in the client-sdk's mock auth`\n    );\n  },\n  toJSON() {\n    return {};\n  },\n  async unlink(provider: string) {\n    throw new Error(\n      `unlink() is not implemented yet in the client-sdk's mock auth`\n    );\n  },\n  async updatePhoneNumber(phoneCredential: AuthCredential) {\n    throw new Error(\n      `updatePhoneNumber() is not implemented yet in the client-sdk's mock auth`\n    );\n  },\n};\n","import type {\n  IMockUser,\n  IMockAuthConfig,\n  IAuthProviderName,\n  ISimplifiedMockUser,\n  UpdateRequest,\n  UserCredential,\n  User,\n} from '@forest-fire/types';\nimport { pk } from 'common-types';\nimport { FireMockError } from '@/errors/FireMockError';\nimport { clientApiUser } from '@/auth/client-sdk/UserObject';\nimport { IAuthObserver } from '@/@types';\n\n/**\n * The recognized users in the mock Auth system\n */\nlet _users: IMockUser[] = [];\n\n/**\n * The `uid` of the user which is currently logged in.\n *\n * > **Note:** this only applies to client-sdk usages\n */\nlet _currentUser: pk;\n\n/** the full `UserCredential` object for the current user */\nlet _currentUserCredential: UserCredential;\n\n/**\n * callbacks sent in for callback when the\n * _auth_ state changes.\n */\nlet _authObservers: IAuthObserver[] = [];\n\n/**\n * The _providers_ which have been enabled\n * for this mock Auth API\n */\nlet _providers: IAuthProviderName[] = [];\n\nexport function getAuthObservers() {\n  return _authObservers;\n}\n\nexport function addAuthObserver(ob: IAuthObserver) {\n  _authObservers.push(ob);\n}\n\nexport function initializeAuth(config: IMockAuthConfig) {\n  const baseUser: () => Partial<IMockUser> = () => ({\n    emailVerified: false,\n    uid: getRandomMockUid(),\n    providerData: [],\n  });\n  _users =\n    (config.users || []).map((u) => ({ ...baseUser(), ...u } as IMockUser)) ||\n    [];\n  _providers = config.providers || [];\n}\n\nfunction isUser(user: User | UserCredential): user is User {\n  return (user as User).uid !== undefined ? true : false;\n}\n\n/** sets the current user based on a given `UserCredential` */\nexport function setCurrentUser(user: User | UserCredential) {\n  if (isUser(user)) {\n    _currentUser = user.uid;\n    _currentUserCredential = {\n      user,\n      additionalUserInfo: {\n        isNewUser: false,\n        profile: {},\n        providerId: 'mock',\n        username: user.email,\n      },\n      credential: {\n        signInMethod: 'mock',\n        providerId: 'mock',\n        toJSON: () => user,\n      },\n    };\n  } else {\n    _currentUser = user.user.uid;\n    _currentUserCredential = user;\n  }\n  // It should notify all auth observers on `setCurrentUser` call method\n  getAuthObservers().map((o) => o(_currentUserCredential.user));\n}\n\n/**\n * Returns the `IMockUser` record for the currently logged in user\n */\nexport function currentUser() {\n  return _currentUser ? _users.find((u) => u.uid === _currentUser) : undefined;\n}\n\n/**\n * Returns the full `UserCredential` object for the logged in user;\n * this is only relevant for client sdk.\n */\nexport function currentUserCredential(): UserCredential {\n  return _currentUserCredential;\n}\n\n/**\n * Clears the `currentUser` and `currentUserCredential` as would be\n * typical of what happens at the point a user is logged out.\n */\nexport function clearCurrentUser() {\n  _currentUser = undefined;\n  _currentUserCredential = undefined;\n  // It should notify all auth observers on `clearCurrentUser` call method\n  getAuthObservers().map((o) => o(undefined));\n}\n\n/**\n * Clears all known mock users\n */\nexport function clearAuthUsers() {\n  _users = [];\n}\n\n/**\n * The _default_ **uid** to assigne to anonymous users\n */\nlet _defaultAnonymousUid: string;\n\nexport function setDefaultAnonymousUid(uid: string) {\n  _defaultAnonymousUid = uid;\n}\n\nexport function getAnonymousUid() {\n  return _defaultAnonymousUid ? _defaultAnonymousUid : getRandomMockUid();\n}\n\nexport function addUser(user: ISimplifiedMockUser | User) {\n  const defaultUser: Partial<IMockUser> = {\n    uid: getRandomMockUid(),\n    disabled: false,\n    emailVerified: false,\n  };\n  const fullUser = { ...defaultUser, ...user } as IMockUser;\n  if (_users.find((u) => u.uid === fullUser.uid)) {\n    throw new FireMockError(\n      `Attempt to add user with UID of \"${fullUser.uid}\" failed as the user already exists!`\n    );\n  }\n\n  _users = _users.concat(fullUser);\n}\n\nexport function getUserById(uid: string) {\n  return _users.find((u) => u.uid === uid);\n}\n\nexport function getUserByEmail(email: string) {\n  return _users.find((u) => u.email === email);\n}\n\n/**\n * Converts the basic properties provided by a\n * `IMockUser` definition into a full fledged `User` object\n * which is a superset including methods such as `updateEmail`,\n * `updatePassword`, etc. For more info refer to docs on `User`:\n *\n * [User Docs](https://firebase.google.com/docs/reference/js/firebase.User)\n *\n * @param user a mock user defined by `IMockUser`\n */\nexport function convertToFirebaseUser(user: IMockUser): User {\n  return {\n    ...user,\n    ...clientApiUser,\n  } as User;\n}\n\nexport function updateUser(\n  uid: string,\n  update: Partial<IMockUser> | UpdateRequest\n) {\n  const existing = _users.find((u) => u.uid === uid);\n  if (!existing) {\n    throw new FireMockError(\n      `Attempt to update the user with UID of \"${uid}\" failed because this user is not defined in the mock Auth instance!`\n    );\n  }\n  _users = _users.map((u) =>\n    u.uid === uid ? ({ ...u, ...update } as IMockUser) : u\n  );\n}\n\nexport function allUsers() {\n  return _users;\n}\n\nexport function removeUser(uid: string) {\n  if (!_users.find((u) => u.uid === uid)) {\n    throw new FireMockError(\n      `Attempt to remove the user with UID of \"${uid}\" failed because this user was NOT in the mock Auth instance!`\n    );\n  }\n  _users = _users.filter((u) => u.uid !== uid);\n}\n\nexport function authProviders() {\n  return _providers;\n}\n\nexport function getRandomMockUid() {\n  return `mock-uid-${Math.random().toString(36).substr(2, 10)}`;\n}\n","import { currentUser, updateUser } from '../../state-mgmt';\n\nimport { FireMockError } from '@/errors/FireMockError';\nimport { networkDelay } from '@/util/other';\n\n/**\n * **updateEmail**\n *\n * Gives a logged in user the ability to update their email address.\n *\n * Possible Errors:\n *\n * - auth/invalid-email\n * - auth/email-already-in-use\n * - auth/requires-recent-login\n *\n * [Documentation](https://firebase.google.com/docs/reference/js/firebase.User#update-email)\n *\n * > Note: The `forceLogin` is not part of Firebase API but allows mock user to force the\n * error condition associated with a user who's been logged in a long time.\n */\nexport async function updateEmail(\n  newEmail: string,\n  forceLogin?: boolean\n): Promise<void> {\n  if (forceLogin) {\n    throw new FireMockError(\n      \"updating a user's email address requires that the user have recently logged in; use 'reauthenticateWithCredential' to address this error.\",\n      'auth/requires-recent-login'\n    );\n  }\n  await networkDelay();\n  updateUser(currentUser().uid, { email: newEmail });\n}\n","import { FireMockError } from '../../../errors/FireMockError';\nimport { updateUser, currentUser } from '../../state-mgmt';\n\n/**\n * **updatePassword**\n *\n * Updates the password for a logged in user. For security reasons, this operations\n * requires the user to have recently signed in.\n *\n * Errors:\n *\n * - auth/weak-password\n * - auth/required-recent-login ( can use `reauthenticateWithCredential` to resolve this )\n *\n * > Note: the `notRecentLogin` is NOT part of the normal API but allows mock users to force\n * the `auth/required-recent-login` error.\n *\n * [Docs](https://firebase.google.com/docs/reference/js/firebase.User#updatepassword)\n */\nexport async function updatePassword(\n  newPassword: string,\n  notRecentLogin?: boolean\n): Promise<void> {\n  if (notRecentLogin) {\n    throw new FireMockError(\n      \"updating a user's password requires that the user have recently logged in; use 'reauthenticateWithCredential' to address this error.\",\n      'auth/required-recent-login'\n    );\n  }\n\n  updateUser(currentUser().uid, {\n    password: newPassword,\n  });\n}\n","import { updateUser, currentUser } from '../../state-mgmt';\n\n/**\n * Updates a user's profile data.\n * \n * Example:\n * \n * ```typescript\n * user.updateProfile({\n      displayName: \"Jane Q. User\",\n      photoURL: \"https://example.com/jane-q-user/profile.jpg\"\n  })\n * ```\n\n [Documentation](https://firebase.google.com/docs/reference/js/firebase.User#updateprofile)\n */\nexport async function updateProfile(profile: {\n  displayName?: string;\n  photoUrl?: string;\n}) {\n  updateUser(currentUser().uid, profile);\n}\n","import type { User } from '@forest-fire/types';\nimport { getAnonymousUid } from '@/auth/state-mgmt/index';\nconsole.log(getAnonymousUid);\n\nexport const userProperties: () => Partial<User> = () => ({\n  displayName: '',\n  email: '',\n  isAnonymous: true,\n  metadata: {},\n  phoneNumber: '',\n  photoURL: '',\n  providerData: [],\n  providerId: '',\n  refreshToken: '',\n  uid: getAnonymousUid(),\n});\n","import { allUsers, currentUser } from '../../state-mgmt';\n\nimport { atRandom } from '../../../util/atRandom';\n\nexport async function getIdToken() {\n  const user = currentUser();\n  const userConfig = allUsers().find((i) => i.email === user.email);\n\n  if (!user) {\n    throw new Error('not logged in');\n  }\n  if (userConfig.tokenIds) {\n    return atRandom(userConfig.tokenIds);\n  } else {\n    return Math.random().toString(36).substr(2, 10);\n  }\n}\n","import type { IdTokenResult } from '@forest-fire/types';\nimport { getIdToken } from './getIdToken';\n\nexport async function getIdTokenResult(\n  forceRefresh?: boolean\n): Promise<IdTokenResult> {\n  return {\n    authTime: '',\n    claims: {},\n    expirationTime: '',\n    issuedAtTime: '',\n    signInProvider: '',\n    signInSecondFactor: '',\n    token: await getIdToken(),\n  };\n}\n","import type { User } from '@forest-fire/types';\n\nimport { notImplemented } from './notImplemented';\nimport { updateEmail } from './updateEmail';\nimport { updatePassword } from './updatePassword';\nimport { updateProfile } from './updateProfile';\nimport { userProperties } from './userProperties';\nimport { getIdToken } from './getIdToken';\nimport { getIdTokenResult } from './getIdTokenResult';\n\nexport const clientApiUser: User = {\n  ...(notImplemented as Required<typeof notImplemented>),\n  ...userProperties(),\n  getIdToken,\n  getIdTokenResult,\n  updateEmail,\n  updatePassword,\n  updateProfile,\n};\n","import type { UserCredential, ConfirmationResult } from '@forest-fire/types';\nimport merge from 'deepmerge';\n\nimport { clientApiUser } from './UserObject';\nimport { getRandomMockUid } from '@/auth/state-mgmt';\nimport { IPartialUserCredential } from '@/@types';\n\nexport { UserCredential };\n\n/**\n * takes a partial user auth and adds enough to make it officially\n * a full UserCrediental\n */\nexport function completeUserCredential(\n  partial: IPartialUserCredential\n): UserCredential {\n  const fakeUserCredential: UserCredential = {\n    user: {\n      ...clientApiUser,\n      displayName: '',\n      email: '',\n      isAnonymous: true,\n      metadata: {},\n      phoneNumber: '',\n      photoURL: '',\n      providerData: [],\n      providerId: '',\n      refreshToken: '',\n      uid: getRandomMockUid(),\n    },\n    additionalUserInfo: {\n      isNewUser: false,\n      profile: '',\n      providerId: '',\n      username: 'fake',\n    },\n    operationType: '',\n    credential: {\n      signInMethod: 'fake',\n      providerId: 'fake',\n      toJSON: () => '', // added recently\n    },\n  };\n\n  return merge(fakeUserCredential, partial) as UserCredential;\n}\n\nexport const fakeApplicationVerifier: ConfirmationResult = {\n  async confirm(verificationCode: string) {\n    return completeUserCredential({});\n  },\n  verificationId: 'verification',\n};\n","\"use strict\";\r\n\r\nvar tester = /^[-!#$%&'*+\\/0-9=?A-Z^_a-z{|}~](\\.?[-!#$%&'*+\\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\\.?[a-zA-Z0-9])*\\.[a-zA-Z](-?[a-zA-Z0-9])+$/;\r\n// Thanks to:\r\n// http://fightingforalostcause.net/misc/2006/compare-email-regex.php\r\n// http://thedailywtf.com/Articles/Validating_Email_Addresses.aspx\r\n// http://stackoverflow.com/questions/201323/what-is-the-best-regular-expression-for-validating-email-addresses/201378#201378\r\nexports.validate = function(email)\r\n{\r\n\tif (!email)\r\n\t\treturn false;\r\n\t\t\r\n\tif(email.length>254)\r\n\t\treturn false;\r\n\r\n\tvar valid = tester.test(email);\r\n\tif(!valid)\r\n\t\treturn false;\r\n\r\n\t// Further checking of some things regex can't handle\r\n\tvar parts = email.split(\"@\");\r\n\tif(parts[0].length>64)\r\n\t\treturn false;\r\n\r\n\tvar domainParts = parts[1].split(\".\");\r\n\tif(domainParts.some(function(part) { return part.length>63; }))\r\n\t\treturn false;\r\n\r\n\treturn true;\r\n}","import type { User } from '@forest-fire/types';\nimport { validate } from 'email-validator';\nimport {\n  allUsers,\n  authProviders,\n  getRandomMockUid,\n  getAuthObservers,\n} from '../state-mgmt';\n\nexport function emailExistsAsUserInAuth(email: string) {\n  const emails = allUsers().map((i) => i.email);\n\n  return emails.includes(email);\n}\n\nexport function emailIsValidFormat(email: string) {\n  return validate(email);\n}\n\nexport function emailHasCorrectPassword(email: string, password: string) {\n  const config = allUsers().find((i) => i.email === email);\n\n  return config ? config.password === password : false;\n}\n\nexport function emailVerified(email: string) {\n  const user = allUsers().find((i) => i.email === email);\n  return user ? user.emailVerified || false : false;\n}\n\nexport function userUid(email: string) {\n  const config = allUsers().find((i) => i.email === email);\n\n  return config ? config.uid || getRandomMockUid() : getRandomMockUid();\n}\n\nexport function emailValidationAllowed() {\n  return authProviders().includes('emailPassword');\n}\n\nexport function loggedIn(user: User) {\n  getAuthObservers().map((o) => o(user));\n}\n\nexport function loggedOut() {\n  getAuthObservers().map((o) => o(null));\n}\n","import { IPartialUserCredential } from '../../index';\nimport { networkDelay } from '@/util';\nimport { completeUserCredential } from './completeUserCredential';\nimport { Omit } from 'common-types';\nimport { notImplemented } from './notImplemented';\nimport type {\n  ActionCodeSettings,\n  FirebaseAuth,\n  UserCredential,\n  AuthCredential,\n  User,\n} from '@forest-fire/types';\nimport { IAuthObserver } from '@/@types';\nimport { FireMockError } from '@/errors';\nimport {\n  emailExistsAsUserInAuth,\n  emailHasCorrectPassword,\n  userUid,\n  emailValidationAllowed,\n  emailIsValidFormat,\n} from './authMockHelpers';\nimport {\n  addUser,\n  allUsers,\n  authProviders,\n  setCurrentUser,\n  clearCurrentUser,\n  addAuthObserver,\n  getAnonymousUid,\n} from '@/auth/state-mgmt';\nimport { clientApiUser } from './UserObject';\n\nexport const implemented: Omit<FirebaseAuth, keyof typeof notImplemented> = {\n  app: {\n    name: 'mocked-app',\n    options: {},\n    async delete() {\n      return;\n    },\n    automaticDataCollectionEnabled: false,\n  },\n  onAuthStateChanged(observer: IAuthObserver) {\n    addAuthObserver(observer);\n  },\n  async setPersistence() {\n    console.warn(\n      `currently firemock accepts calls to setPersistence() but it doesn't support it.`\n    );\n  },\n  signInAnonymously: async (): Promise<UserCredential> => {\n    await networkDelay();\n\n    if (authProviders().includes('anonymous')) {\n      const user: User = {\n        ...clientApiUser,\n        isAnonymous: true,\n        uid: getAnonymousUid(),\n      };\n      const credential: AuthCredential = {\n        signInMethod: 'anonymous',\n        providerId: 'anonymous',\n        toJSON: () => '', // recently added\n      };\n      const credentials = {\n        user,\n        credential,\n      };\n\n      const userCredential = completeUserCredential(credentials);\n      addUser(userCredential.user);\n      setCurrentUser(userCredential);\n\n      return userCredential;\n    } else {\n      throw new FireMockError(\n        'you must enable anonymous auth in the Firebase Console',\n        'auth/operation-not-allowed'\n      );\n    }\n  },\n  async signInWithEmailAndPassword(email: string, password: string) {\n    await networkDelay();\n    if (!emailValidationAllowed()) {\n      throw new FireMockError(\n        'email authentication not allowed',\n        'auth/operation-not-allowed'\n      );\n    }\n    if (!emailIsValidFormat(email)) {\n      throw new FireMockError(`invalid email: ${email}`, 'auth/invalid-email');\n    }\n    const found = allUsers().find((i) => i.email === email);\n    if (!found) {\n      throw new FireMockError(\n        `The email \"${email}\" was not found`,\n        `auth/user-not-found`\n      );\n    }\n\n    if (!emailHasCorrectPassword(email, password)) {\n      throw new FireMockError(\n        `Invalid password for ${email}`,\n        'auth/wrong-password'\n      );\n    }\n    const partial: IPartialUserCredential = {\n      user: {\n        email: found.email,\n        isAnonymous: false,\n        emailVerified: found.emailVerified,\n        uid: userUid(email),\n        displayName: found.displayName,\n      },\n      credential: {\n        signInMethod: 'signInWithEmailAndPassword',\n        providerId: '',\n      },\n      additionalUserInfo: {\n        username: email,\n      },\n    };\n    const u = completeUserCredential(partial);\n    setCurrentUser(u);\n\n    return u;\n  },\n\n  /**\n   * Add a new user with the Email/Password provider\n   */\n  async createUserWithEmailAndPassword(email: string, password: string) {\n    await networkDelay();\n    if (!emailValidationAllowed()) {\n      throw new FireMockError(\n        'email authentication not allowed',\n        'auth/operation-not-allowed'\n      );\n    }\n\n    if (emailExistsAsUserInAuth(email)) {\n      throw new FireMockError(\n        `\"${email}\" user already exists`,\n        'auth/email-already-in-use'\n      );\n    }\n\n    if (!emailIsValidFormat(email)) {\n      throw new FireMockError(\n        `\"${email}\" is not a valid email format`,\n        'auth/invalid-email'\n      );\n    }\n\n    const partial: IPartialUserCredential = {\n      user: {\n        email,\n        isAnonymous: false,\n        emailVerified: false,\n        uid: userUid(email),\n      },\n      credential: {\n        signInMethod: 'signInWithEmailAndPassword',\n        providerId: '',\n      },\n      additionalUserInfo: {\n        username: email,\n      },\n    };\n    const u = completeUserCredential(partial);\n    addUser({ uid: partial.user.uid, email, password });\n    setCurrentUser(u);\n\n    return u;\n  },\n\n  async confirmPasswordReset(code: string, newPassword: string) {\n    return;\n  },\n\n  async sendPasswordResetEmail(\n    email: string,\n    actionCodeSetting: ActionCodeSettings\n  ) {\n    return;\n  },\n\n  async signOut() {\n    clearCurrentUser();\n  },\n\n  get currentUser() {\n    return completeUserCredential({}).user;\n  },\n  languageCode: '',\n  async updateCurrentUser() {\n    return;\n  },\n  settings: {\n    appVerificationDisabledForTesting: false,\n  },\n};\n","import { networkDelay } from './util';\nimport type { IMockAuth } from '@forest-fire/types';\nimport { implemented } from './auth/client-sdk/implemented';\n\nlet hasConnectedToAuthService: boolean = false;\n\nexport const auth = async (): Promise<typeof authApi> => {\n  if (hasConnectedToAuthService) {\n    return authApi;\n  }\n\n  await networkDelay();\n\n  hasConnectedToAuthService = true;\n  return authApi;\n};\n\n// tslint:disable-next-line:no-object-literal-type-assertion\nexport const authApi = {\n  ...implemented,\n} as IMockAuth;\n","// tslint:disable:no-implicit-dependencies\nimport { IDictionary, pathJoin } from 'common-types';\nimport { dotify, dotifyKeys, get, getKey, getParent, join, set } from '@/util';\nimport { getListeners, notify, removeAllListeners } from '@/rtdb';\n\nimport { IMockWatcherGroupEvent } from '@/@types';\nimport copy from 'fast-copy';\nimport { deepEqual } from 'fast-equals';\nimport deepmerge from 'deepmerge';\nimport { key as fbKey } from 'firebase-key';\nimport { auth as mockedAuth } from '@/auth';\n\n/**\n * The in-memory dictionary/hash mantained by the mock RTDB to represent\n * the state of the database\n */\nlet db: IDictionary = {};\n\nlet _silenceEvents: boolean = false;\n\n/**\n * silences the database from sending events;\n * this is not typically done but can be done\n * as part of the Mocking process to reduce noise\n */\nexport function silenceEvents() {\n  _silenceEvents = true;\n}\n\n/**\n * returns the database to its default state of sending\n * events out.\n */\nexport function restoreEvents() {\n  _silenceEvents = false;\n}\n\nexport function shouldSendEvents() {\n  return !_silenceEvents;\n}\n\n/** clears the DB without losing reference to DB object */\nexport function clearDatabase() {\n  const keys = Object.keys(db);\n  keys.forEach((key) => delete db[key]);\n}\n\n/**\n * updates the state of the database based on a\n * non-descructive update.\n */\nexport function updateDatabase(updatedState: IDictionary) {\n  db = deepmerge(db, updatedState);\n}\n\nexport async function auth() {\n  return mockedAuth();\n}\n\nexport function getDb<T = any>(path?: string) {\n  return path ? get(db, dotify(path)) : db;\n}\n\n/**\n * **setDB**\n *\n * sets the database at a given path\n */\nexport function setDB(path: string, value: any, silent: boolean = false) {\n  const dotPath = join(path);\n  const oldRef = get(db, dotPath);\n  const oldValue = typeof oldRef === 'object' ? { ...oldRef, ...{} } : oldRef;\n  const isReference = ['object', 'array'].includes(typeof value);\n  const dbSnapshot = copy({ ...db });\n\n  // ignore if no change\n  if (\n    (isReference && deepEqual(oldValue, value)) ||\n    (!isReference && oldValue === value)\n  ) {\n    return;\n  }\n\n  if (value === null) {\n    const parentValue: any = get(db, getParent(dotPath));\n    if (typeof parentValue === 'object') {\n      delete parentValue[getKey(dotPath)];\n\n      set(db, getParent(dotPath), parentValue);\n    } else {\n      set(db, dotPath, undefined);\n    }\n  } else {\n    set(db, dotPath, value);\n  }\n\n  if (!silent) {\n    notify({ [dotPath]: value }, dbSnapshot);\n  }\n}\n\n/**\n * **updateDB**\n *\n * single-path, non-destructive update to database\n */\nexport function updateDB<T = any>(path: string, value: T) {\n  const dotPath = join(path);\n  const oldValue: T = get(db, dotPath);\n  let changed = true;\n  if (\n    typeof value === 'object' &&\n    Object.keys(value).every(\n      (k) =>\n        (oldValue ? (oldValue as IDictionary)[k] : null) ===\n        (value as IDictionary)[k]\n    )\n  ) {\n    changed = false;\n  }\n\n  if (typeof value !== 'object' && value === oldValue) {\n    changed = false;\n  }\n\n  if (!changed) {\n    return;\n  }\n\n  const newValue: T =\n    typeof oldValue === 'object' ? { ...oldValue, ...value } : value;\n\n  setDB(dotPath, newValue);\n}\n\n/**\n * **multiPathUpdateDB**\n *\n * Emulates a Firebase multi-path update. The keys of the dictionary\n * are _paths_ in the DB, the value is the value to set at that path.\n *\n * **Note:** dispatch notifations must not be done at _path_ level but\n * instead grouped up by _watcher_ level.\n */\nexport function multiPathUpdateDB(data: IDictionary) {\n  const snapshot = copy(db);\n\n  Object.keys(data).map((key) => {\n    const value = data[key];\n    const path = key;\n    if (get(db, path) !== value) {\n      // silent set\n      setDB(path, value, true);\n    }\n  });\n\n  notify(data, snapshot);\n}\n\nconst slashify = (path: string) => {\n  const slashPath = path.replace(/\\./g, '/');\n  return slashPath.slice(0, 1) === '/' ? slashPath.slice(1) : slashPath;\n};\n\n/**\n * Will aggregate the data passed in to dictionary objects of paths\n * which fire at the root of the listeners/watchers that are currently\n * on the database.\n */\nexport function groupEventsByWatcher(\n  data: IDictionary,\n  dbSnapshot: IDictionary\n): IMockWatcherGroupEvent[] {\n  data = dotifyKeys(data);\n\n  const getFromSnapshot = (path: string) => get(dbSnapshot, dotify(path));\n  const eventPaths = Object.keys(data).map((i) => dotify(i));\n\n  const response: IMockWatcherGroupEvent[] = [];\n  const relativePath = (full: string, partial: string) => {\n    return full.replace(partial, '');\n  };\n\n  const justKey = (obj: IDictionary) => (obj ? Object.keys(obj)[0] : null);\n  const justValue = (obj: IDictionary) =>\n    justKey(obj) ? obj[justKey(obj)] : null;\n\n  getListeners().forEach((listener) => {\n    const eventPathsUnderListener = eventPaths.filter((path) =>\n      path.includes(dotify(listener.query.path))\n    );\n\n    if (eventPathsUnderListener.length === 0) {\n      // if there are no listeners then there's nothing to do\n      return;\n    }\n\n    const paths: string[] = [];\n\n    const listenerPath = dotify(listener.query.path);\n    const changeObject = eventPathsUnderListener.reduce(\n      (changes: IDictionary<IMockWatcherGroupEvent>, path) => {\n        paths.push(path);\n        if (dotify(listener.query.path) === path) {\n          changes = data[path];\n        } else {\n          set(changes, dotify(relativePath(path, listenerPath)), data[path]);\n        }\n\n        return changes;\n      },\n      {}\n    );\n\n    const key: string =\n      listener.eventType === 'value'\n        ? changeObject\n          ? justKey(changeObject)\n          : listener.query.path.split('.').pop()\n        : dotify(\n            pathJoin(slashify(listener.query.path), justKey(changeObject))\n          );\n\n    const newResponse = {\n      listenerId: listener.id,\n      listenerPath,\n      listenerEvent: listener.eventType,\n      callback: listener.callback,\n      eventPaths: paths,\n      key,\n      changes: justValue(changeObject),\n      value:\n        listener.eventType === 'value'\n          ? getDb(listener.query.path)\n          : getDb(key),\n      priorValue:\n        listener.eventType === 'value'\n          ? get(dbSnapshot, listener.query.path)\n          : justValue(get(dbSnapshot, listener.query.path)),\n    };\n\n    response.push(newResponse);\n  });\n\n  return response;\n}\n\nexport function removeDB(path: string) {\n  if (!getDb(path)) {\n    return;\n  }\n  setDB(path, null);\n}\n\n/**\n * **pushDB**\n *\n * Push a new record into the mock database. Uses the\n * `firebase-key` library to generate the key which\n * attempts to use the same algorithm as Firebase\n * itself.\n */\nexport function pushDB(path: string, value: any): string {\n  const pushId = fbKey();\n  const fullPath = join(path, pushId);\n  const valuePlusId =\n    typeof value === 'object' ? { ...value, id: pushId } : value;\n\n  setDB(fullPath, valuePlusId);\n  return pushId;\n}\n\n/** Clears the DB and removes all listeners */\nexport function reset() {\n  removeAllListeners();\n  clearDatabase();\n}\n","import { SerializedRealTimeQuery } from '@forest-fire/serialized-query';\nimport {\n  IFirebaseEventHandler,\n  IListener,\n  IMockWatcherGroupEvent,\n} from '@/@types';\nimport type { IRtdbDbEvent, IRtdbDataSnapshot } from '@forest-fire/types';\nimport { IDictionary } from 'common-types';\nimport { join, stripLeadingDot, removeDots, dotify, get } from '@/util';\n\nimport { hashToArray } from 'typed-conversions';\nimport {\n  getDb,\n  SnapShot,\n  Reference,\n  shouldSendEvents,\n  groupEventsByWatcher,\n} from '@/rtdb';\n\nlet _listeners: IListener[] = [];\n\n/**\n * **addListener**\n *\n * Adds a listener for watched events; setup by\n * the `query.on()` API call.\n *\n * This listener is\n * pushed onto a private stack but can be interogated\n * with a call to `getListeners()` or if you're only\n * interested in the _paths_ which are being watched\n * you can call `listenerPaths()`.\n */\nexport async function addListener(\n  pathOrQuery: string | SerializedRealTimeQuery<any>,\n  eventType: IRtdbDbEvent,\n  callback: IFirebaseEventHandler,\n  cancelCallbackOrContext?: (err?: Error) => void,\n  context?: IDictionary\n): Promise<IRtdbDataSnapshot> {\n  const query = (typeof pathOrQuery === 'string'\n    ? new SerializedRealTimeQuery(join(pathOrQuery))\n    : pathOrQuery) as SerializedRealTimeQuery;\n  pathOrQuery = (typeof pathOrQuery === 'string'\n    ? join(pathOrQuery)\n    : query.path) as string;\n\n  _listeners.push({\n    id: Math.random().toString(36).substr(2, 10),\n    query,\n    eventType,\n    callback,\n    cancelCallbackOrContext,\n    context,\n  });\n\n  function ref(dbPath: string) {\n    return new Reference(dbPath);\n  }\n  const snapshot = await query\n    .deserialize({ ref })\n    .once(eventType === 'value' ? 'value' : 'child_added');\n\n  if (eventType === 'value') {\n    callback(snapshot);\n  } else {\n    const list = hashToArray(snapshot.val());\n    if (eventType === 'child_added') {\n      list.forEach((i: IDictionary) =>\n        callback(new SnapShot(join(query.path, i.id), i))\n      );\n    }\n  }\n\n  return snapshot;\n}\n\n/**\n * **removeListener**\n *\n * Removes an active listener (or multiple if the info provided matches more\n * than one).\n *\n * If you provide the `context` property it will use this to identify\n * the listener, if not then it will use `eventType` (if available) as\n * well as `callback` (if available) to identify the callback(s)\n */\nexport function removeListener(\n  eventType?: IRtdbDbEvent,\n  callback?: (snap: IRtdbDataSnapshot, key?: string) => void,\n  context?: IDictionary\n): number {\n  if (!eventType) {\n    return removeAllListeners();\n  }\n\n  if (!callback) {\n    const removed = _listeners.filter((l) => l.eventType === eventType);\n    _listeners = _listeners.filter((l) => l.eventType !== eventType);\n    return cancelCallback(removed);\n  }\n\n  if (!context) {\n    // use eventType and callback to identify\n    const removed = _listeners\n      .filter((l) => l.callback === callback)\n      .filter((l) => l.eventType === eventType);\n\n    _listeners = _listeners.filter(\n      (l) => l.eventType !== eventType || l.callback !== callback\n    );\n\n    return cancelCallback(removed);\n  } else {\n    // if we have context then we can ignore other params\n    const removed = _listeners\n      .filter((l) => l.callback === callback)\n      .filter((l) => l.eventType === eventType)\n      .filter((l) => l.context === context);\n\n    _listeners = _listeners.filter(\n      (l) =>\n        l.context !== context ||\n        l.callback !== callback ||\n        l.eventType !== eventType\n    );\n\n    return cancelCallback(removed);\n  }\n}\n\n/**\n * internal function responsible for the actual removal of\n * a listener.\n */\nfunction cancelCallback(removed: IListener[]): number {\n  let count = 0;\n  removed.forEach((l) => {\n    if (typeof l.cancelCallbackOrContext === 'function') {\n      (l.cancelCallbackOrContext as () => any)();\n      count++;\n    }\n  });\n  return count;\n}\n\nexport function removeAllListeners(): number {\n  const howMany = cancelCallback(_listeners);\n  _listeners = [];\n  return howMany;\n}\n\n/**\n * **listenerCount**\n *\n * Provides a numberic count of listeners on the database.\n * Optionally you can state the `EventType` and get a count\n * of only this type of event.\n */\nexport function listenerCount(type?: IRtdbDbEvent) {\n  return type\n    ? _listeners.filter((l) => l.eventType === type).length\n    : _listeners.length;\n}\n\nexport type EventTypePlusChild = IRtdbDbEvent | 'child';\n\n/**\n * **listenerPaths**\n *\n * Provides a list of _paths_ in the database which have listeners\n * attached to them. Optionally you can state the `EventType` and filter down to\n * only this type of event or \"set of events\".\n *\n * You can also just state \"child\" as the event and it will resolve to all child\n * events: `[ 'child_added', 'child_changed', 'child_removed', 'child_moved' ]`\n */\nexport function listenerPaths(\n  lookFor?: EventTypePlusChild | EventTypePlusChild[]\n) {\n  if (lookFor && !Array.isArray(lookFor)) {\n    lookFor =\n      lookFor === 'child'\n        ? ['child_added', 'child_changed', 'child_removed', 'child_moved']\n        : [lookFor];\n  }\n  return lookFor\n    ? _listeners\n        .filter((l) => lookFor.includes(l.eventType))\n        .map((l) => l.query.path)\n    : _listeners.map((l) => l.query.path);\n}\n\n/**\n * **getListeners**\n *\n * Returns the list of listeners.Optionally you can state the `EventType` and\n * filter down to only this type of event or \"set of events\".\n *\n * You can also just state \"child\" as the event and it will resolve to all child\n * events: `[ 'child_added', 'child_changed', 'child_removed', 'child_moved' ]`\n */\nexport function getListeners(\n  lookFor?: EventTypePlusChild | EventTypePlusChild[]\n) {\n  const childEvents = [\n    'child_added',\n    'child_changed',\n    'child_removed',\n    'child_moved',\n  ];\n  const allEvents = childEvents.concat(['value']);\n  const events = !lookFor\n    ? allEvents\n    : lookFor === 'child'\n    ? childEvents\n    : lookFor;\n\n  return _listeners.filter((l) => events.includes(l.eventType));\n}\n\nfunction keyDidNotPreviouslyExist(\n  e: IMockWatcherGroupEvent,\n  dbSnapshot: IDictionary\n) {\n  return get(dbSnapshot, e.key) === undefined ? true : false;\n}\n\n/**\n * **notify**\n *\n * Based on a dictionary of paths/values it reduces this to events to\n * send to zero or more listeners.\n */\nexport function notify<T = any>(data: IDictionary, dbSnapshot: IDictionary) {\n  if (!shouldSendEvents()) {\n    return;\n  }\n  const events = groupEventsByWatcher(data, dbSnapshot);\n\n  events.forEach((evt) => {\n    const isDeleteEvent = evt.value === null || evt.value === undefined;\n    switch (evt.listenerEvent) {\n      case 'child_removed':\n        if (isDeleteEvent) {\n          evt.callback(new SnapShot(evt.key, evt.priorValue));\n        }\n        return;\n      case 'child_added':\n        if (!isDeleteEvent && keyDidNotPreviouslyExist(evt, dbSnapshot)) {\n          evt.callback(new SnapShot(evt.key, evt.value));\n        }\n        return;\n      case 'child_changed':\n        if (!isDeleteEvent) {\n          evt.callback(new SnapShot(evt.key, evt.value));\n        }\n        return;\n      case 'child_moved':\n        if (!isDeleteEvent && keyDidNotPreviouslyExist(evt, dbSnapshot)) {\n          // TODO: if we implement sorting then add the previousKey value\n          evt.callback(new SnapShot(evt.key, evt.value));\n        }\n        return;\n      case 'value':\n        const snapKey = new SnapShot(evt.listenerPath, evt.value).key;\n\n        if (snapKey === evt.key) {\n          // root set\n          evt.callback(\n            new SnapShot(\n              evt.listenerPath,\n              evt.value === null || evt.value === undefined\n                ? undefined\n                : { [evt.key]: evt.value }\n            )\n          );\n        } else {\n          // property set\n          const value =\n            evt.value === null ? getDb(evt.listenerPath) : evt.value;\n          evt.callback(new SnapShot(evt.listenerPath, value));\n        }\n    } // end switch\n  });\n}\n\nfunction priorKey(path: string, id: string) {\n  let previous: string;\n  const ids = getDb(path);\n  if (typeof ids === 'object') {\n    return null;\n  }\n\n  return Object.keys(ids).reduce((acc: string | null, curr: string) => {\n    if (previous === id) {\n      return id;\n    } else {\n      previous = id;\n      return acc;\n    }\n  }, null);\n}\nexport type IListenerPlus = IListener & { id: string; changeIsAtRoot: boolean };\n\n/**\n * **findChildListeners**\n *\n * Finds \"child events\" listening to a given _parent path_; optionally\n * allowing for specification of the specific `EventType` or `EventType(s)`.\n *\n * @param changePath the _parent path_ that children are detected off of\n * @param eventTypes <optional> the specific child event (or events) to filter down to; if you have more than one then you should be aware that this property is destructured so the calling function should pass in an array of parameters rather than an array as the second parameter\n */\nexport function findChildListeners(\n  changePath: string,\n  ...eventTypes: IRtdbDbEvent[]\n) {\n  changePath = stripLeadingDot(changePath.replace(/\\//g, '.'));\n  eventTypes =\n    eventTypes.length !== 0\n      ? eventTypes\n      : ['child_added', 'child_changed', 'child_moved', 'child_removed'];\n\n  const decendants = _listeners\n    .filter((l) => eventTypes.includes(l.eventType))\n    .filter((l) => changePath.startsWith(dotify(l.query.path)))\n    .reduce((acc: IListenerPlus[], listener) => {\n      const id = removeDots(\n        changePath\n          .replace(listener.query.path, '')\n          .split('.')\n          .filter((i) => i)[0]\n      );\n      const remainingPath = stripLeadingDot(\n        changePath.replace(stripLeadingDot(listener.query.path), '')\n      );\n\n      const changeIsAtRoot = id === remainingPath;\n      acc.push({ ...listener, ...{ id, changeIsAtRoot } });\n      return acc;\n    }, []);\n\n  return decendants;\n}\n\n/**\n * Finds all value listeners on a given path or below.\n * Unlike child listeners, Value listeners listen to changes at\n * all points below the registered path.\n *\n * @param path path to root listening point\n */\nexport function findValueListeners(path: string) {\n  return _listeners.filter(\n    (l) =>\n      join(path).indexOf(join(l.query.path)) !== -1 && l.eventType === 'value'\n  );\n}\n","import { ISchemaHelper } from '@/@types';\nimport type { FakerStatic } from '@forest-fire/types';\n\nexport class SchemaHelper<T = any> implements ISchemaHelper<T> {\n  /**\n   * static initializer which allows the **faker** library\n   * to be instantiated asynchronously. Alternatively,\n   * you can pass in an instance of faker to this function\n   * to avoid any need for delay.\n   *\n   * Note: the _constructor_ also allows passing the faker\n   * library in so this initializer's main \"value\" is to\n   * ensure that faker is ready before the faker getter is\n   * used.\n   */\n  static async create<T = any>(context: T, faker?: FakerStatic) {\n    const obj = new SchemaHelper(context, faker);\n  }\n\n  private _faker: FakerStatic;\n\n  constructor(public context: T, faker?: FakerStatic) {\n    if (faker) {\n      this._faker = faker;\n    }\n  }\n  public get faker(): Faker.FakerStatic {\n    return this._faker;\n  }\n}\n","import { IDictionary, createError } from 'common-types';\n\nimport { getFakerLibrary } from '@/mocking';\n\nexport class MockHelper {\n  constructor(public context?: IDictionary) {}\n  public get faker() {\n    const faker = getFakerLibrary();\n    if (!faker) {\n      throw createError(\n        `firemock/not-ready`,\n        `The mock helper can not provide the MockHelper object until after the faker library has been imported with a 'await importFakerLibrary()' call.`\n      );\n    }\n\n    return faker;\n  }\n}\n","import type { Persistence } from '@forest-fire/types';\n\nexport class Auth {\n  public static Persistence: {\n    LOCAL: Persistence;\n    NONE: Persistence;\n    SESSION: Persistence;\n  };\n\n  constructor() {\n    throw new Error(\n      'You should not call this constructor directly! Instead use the auth() accessor to get to this API.'\n    );\n  }\n}\n","import type {\n  AuthCredential,\n  EmailAuthProvider_Instance,\n  GoogleEmailAuthProvider,\n} from '@forest-fire/types';\n\nconst data = {\n  providerId: 'mock-provider-id-for-EmailAuthProvider',\n  signInMethod: 'email-and-password',\n};\n\n/**\n * **EmailAuthProvider** API mocking. Details on the API can be found\n * here: https://firebase.google.com/docs/reference/js/firebase.auth.EmailAuthProvider\n */\nexport class EmailAuthProvider\n  implements EmailAuthProvider_Instance, GoogleEmailAuthProvider {\n  public static PROVIDER_ID: string;\n  public static EMAIL_PASSWORD_SIGN_IN_METHOD: string;\n  public static EMAIL_LINK_SIGN_IN_METHOD: string;\n\n  /**\n   * Produces a `credential` to a user account (typically an anonymous account)\n   * which can then be linked to the account using `linkWithCredential`.\n   */\n  public static credential(email: string, password: string): AuthCredential {\n    return {\n      ...data,\n      toJSON() {\n        return JSON.stringify(data);\n      },\n    };\n  }\n\n  /**\n   * Initialize an EmailAuthProvider credential using an email and an email link after\n   * a sign in with email link operation.\n   */\n  public static credentialWithLink(\n    email: string,\n    emailLink: string\n  ): AuthCredential {\n    return {\n      ...data,\n      toJSON() {\n        return JSON.stringify(data);\n      },\n    };\n  }\n\n  public providerId: string = data.providerId;\n}\n","import type {\n  GoogleFacebookAuthProvider,\n  AuthCredential,\n  AuthProvider,\n  FacebookAuthProvider_Instance,\n} from '@forest-fire/types';\nimport { IDictionary } from 'common-types';\n\nexport class FacebookAuthProvider\n  implements FacebookAuthProvider_Instance, GoogleFacebookAuthProvider {\n  public static PROVIDER_ID: string;\n  public static FACEBOOK_SIGN_IN_METHOD: string;\n  public static credential(token: string): AuthCredential {\n    throw new Error('FacebookAuthProvider not implemented yet');\n  }\n  public providerId: string;\n  public addScope(scope: string): AuthProvider {\n    throw new Error('not implemented');\n  }\n  public setCustomParameters(params: IDictionary): AuthProvider {\n    throw new Error('not implemented');\n  }\n}\n","import type {\n  GoogleGithubAuthProvider,\n  AuthCredential,\n  AuthProvider,\n  GithubAuthProvider_Instance,\n} from '@forest-fire/types';\nimport { IDictionary } from 'common-types';\n\nexport class GithubAuthProvider\n  implements GithubAuthProvider_Instance, GoogleGithubAuthProvider {\n  public static PROVIDER_ID: string;\n  public static GITHUB_SIGN_IN_METHOD: string;\n\n  public static credential(\n    idToken?: string | null,\n    accessToken?: string | null\n  ): AuthCredential {\n    throw new Error('not implemented');\n  }\n\n  public providerId: string;\n  public addScope(scope: string): AuthProvider {\n    throw new Error('not implemented');\n  }\n  public setCustomParameters(params: IDictionary): AuthProvider {\n    throw new Error('not implemented');\n  }\n}\n","import type {\n  GoogleAuthProvider as GoogleGoogleAuthProvider,\n  AuthCredential,\n  AuthProvider,\n} from '@forest-fire/types';\nimport { IDictionary } from 'common-types';\n\nexport class GoogleAuthProvider implements GoogleGoogleAuthProvider {\n  public static PROVIDER_ID: string;\n  public static GOOGLE_SIGN_IN_METHOD: string;\n\n  public static credential(\n    idToken?: string | null,\n    accessToken?: string | null\n  ): AuthCredential {\n    throw new Error('not implemented');\n  }\n\n  public providerId: string;\n  public addScope(scope: string): AuthProvider {\n    throw new Error('not implemented');\n  }\n  public setCustomParameters(params: IDictionary): AuthProvider {\n    throw new Error('not implemented');\n  }\n}\n","import type {\n  TwitterAuthProvider as GoogleTwitterAuthProvider,\n  AuthCredential,\n  TwitterAuthProvider_Instance,\n  AuthProvider,\n} from '@forest-fire/types';\nimport { IDictionary } from 'common-types';\n\nexport class TwitterAuthProvider\n  implements GoogleTwitterAuthProvider, TwitterAuthProvider_Instance {\n  public static PROVIDER_ID: string;\n  public static TWITTER_SIGN_IN_METHOD: string;\n\n  public static credential(\n    idToken?: string | null,\n    accessToken?: string | null\n  ): AuthCredential {\n    throw new Error('not implemented');\n  }\n\n  public providerId: string;\n  public addScope(scope: string): AuthProvider {\n    throw new Error('not implemented');\n  }\n  public setCustomParameters(params: IDictionary): AuthProvider {\n    throw new Error('not implemented');\n  }\n}\n","import type { SAMLAuthProvider as GoogleSAMLAuthProvider } from '@forest-fire/types';\n\nexport class SAMLAuthProvider implements GoogleSAMLAuthProvider {\n  public providerId: string;\n}\n","import type {\n  OAuthProvider as GoogleOAuthProvider,\n  AuthProvider,\n  OAuthCredential,\n} from '@forest-fire/types';\n\nexport class OAuthProvider implements GoogleOAuthProvider {\n  public providerId: string;\n  // tslint:disable-next-line: no-empty\n  constructor(providerId: string) {}\n  public addScope(scope: string): AuthProvider {\n    throw new Error('not implemented');\n  }\n  public credential(idToken?: string, accessToken?: string): OAuthCredential {\n    throw new Error('not implemented');\n  }\n  // tslint:disable-next-line: ban-types\n  public setCustomParameters(customOAuthParameters: Object): AuthProvider {\n    throw new Error('not implemented');\n  }\n}\n","import type {\n  GooglePhoneAuthProvider,\n  AuthCredential,\n  PhoneAuthProvider_Instance,\n  ApplicationVerifier,\n} from '@forest-fire/types';\n\nexport class PhoneAuthProvider\n  implements PhoneAuthProvider_Instance, GooglePhoneAuthProvider {\n  public static PROVIDER_ID: string;\n  public static PHONE_SIGN_IN_METHOD: string;\n\n  public static credential(\n    verificationId: string,\n    verificationCode: string\n  ): AuthCredential {\n    throw new Error('not implemented');\n  }\n\n  public providerId: string;\n  public async verifyPhoneNumber(\n    phoneNumber: string,\n    applicationVerifier: ApplicationVerifier\n  ): Promise<string> {\n    throw new Error('not-implemented');\n  }\n}\n","import type {\n  GoogleRecaptchaVerifier,\n  RecaptchaVerifier_Instance,\n} from '@forest-fire/types';\n\nexport class RecaptchaVerifier\n  implements RecaptchaVerifier_Instance, GoogleRecaptchaVerifier {\n  public type: string;\n\n  public clear() {\n    //\n  }\n\n  public async render(): Promise<number> {\n    throw new Error('not-implemented');\n  }\n\n  public async verify(): Promise<string> {\n    throw new Error('not-implemented');\n  }\n}\n","import type { FirebaseNamespace, IClientAuth } from '@forest-fire/types';\nimport { Auth } from './Auth';\nimport { EmailAuthProvider } from './EmailAuthProvider';\nimport { FacebookAuthProvider } from './FacebookAuthProvider';\nimport { GithubAuthProvider } from './GithubAuthProvider';\nimport { GoogleAuthProvider } from './GoogleAuthProvider';\nimport { TwitterAuthProvider } from './TwitterAuthProvider';\nimport { SAMLAuthProvider } from './SAMLAuthProvider';\nimport { OAuthProvider } from './OAuthProvider';\nimport { PhoneAuthProvider } from './PhoneAuthProvider';\nimport { RecaptchaVerifier } from './RecaptchaVerifier';\n\n// tslint:disable-next-line: no-object-literal-type-assertion\nconst api: Partial<FirebaseNamespace['auth']> = {\n  Auth: Auth as any,\n  EmailAuthProvider,\n  FacebookAuthProvider,\n  GithubAuthProvider,\n  GoogleAuthProvider,\n  TwitterAuthProvider,\n  SAMLAuthProvider,\n  OAuthProvider,\n  PhoneAuthProvider,\n  RecaptchaVerifier,\n};\n\nconst fn = (): IClientAuth => {\n  throw new Error('not allowed');\n};\n\nexport default (api || fn) as FirebaseNamespace['auth'];\n","import type {\n  Auth,\n  CreateRequest,\n  UserRecord,\n  UpdateRequest,\n  ListUsersResult,\n} from '@forest-fire/types';\nimport {\n  addUser,\n  updateUser,\n  getUserById,\n  removeUser,\n  getUserByEmail,\n  allUsers,\n} from '../../state-mgmt';\nimport { networkDelay } from '../../../util';\n\nexport const users: Partial<Auth> = {\n  // https://firebase.google.com/docs/auth/admin/manage-users#create_a_user\n  async createUser(properties: CreateRequest): Promise<UserRecord> {\n    addUser({\n      password: Math.random().toString(36).substr(2, 10),\n      multiFactor: null as any,\n      ...properties,\n    });\n    return {\n      ...(properties as Required<CreateRequest>),\n      metadata: {\n        lastSignInTime: null,\n        creationTime: String(new Date()),\n        toJSON() {\n          return {};\n        },\n      },\n      multiFactor: null as any,\n      toJSON: () => null as any,\n      providerData: null as any,\n    };\n  },\n  /** Updates an existing user. */\n  async updateUser(\n    uid: string,\n    properties: UpdateRequest\n  ): Promise<UserRecord> {\n    updateUser(uid, properties);\n    return getUserById(uid);\n  },\n  async deleteUser(uid: string): Promise<void> {\n    await networkDelay();\n    removeUser(uid);\n  },\n  async getUserByEmail(email: string): Promise<UserRecord> {\n    await networkDelay();\n    return getUserByEmail(email);\n  },\n  async getUserByPhoneNumber(phoneNumber: string): Promise<UserRecord> {\n    return;\n  },\n  async listUsers(\n    maxResults?: undefined | number,\n    pageToken?: undefined | string\n  ): Promise<ListUsersResult> {\n    await networkDelay();\n    return { users: maxResults ? allUsers().slice(0, maxResults) : allUsers() };\n  },\n};\n","import { IDictionary } from 'common-types';\nimport type { Auth } from '@forest-fire/types';\nimport { updateUser } from '@/auth/state-mgmt';\n\nexport const claims: Partial<Auth> = {\n  /**\n   * Sets additional developer claims on an existing user identified by the provided uid,\n   * typically used to define user roles and levels of access.\n   */\n  async setCustomUserClaims(\n    uid: string,\n    customUserClaims: IDictionary | null\n  ): Promise<void> {\n    updateUser(uid, { customClaims: customUserClaims });\n  },\n};\n","import type { DecodedIdToken, Auth } from '@forest-fire/types';\n\nexport const tokens: Partial<Auth> = {\n  /**\n   * Verifies a Firebase ID token (JWT). If the token is valid, the promise is fulfilled\n   * with the token's decoded claims; otherwise, the promise is rejected. An optional\n   * flag can be passed to additionally check whether the ID token was revoked.\n   *\n   * @param idToken The ID token to verify\n   * @param checkRevoked Whether to check if the ID token was revoked. This requires an\n   * extra request to the Firebase Auth backend to check the tokensValidAfterTime time\n   * for the corresponding user. When not specified, this additional check is not applied.\n   */\n  async verifyIdToken(\n    idToken: string,\n    checkRevoked?: undefined | boolean\n  ): Promise<DecodedIdToken> {\n    return;\n  },\n};\n","import { users, claims, tokens } from './implemented/index';\nimport type { Auth } from '@forest-fire/types';\n\nexport const implemented: Partial<Auth> = {\n  ...users,\n  ...claims,\n  ...tokens,\n};\n","import type { Auth } from '@forest-fire/types';\n\nexport const notImplemented: Partial<Auth> = {\n  //\n};\n","import { implemented } from './implemented';\nimport { notImplemented } from './not-implemented';\nimport type { Auth } from '@forest-fire/types';\n\nexport const adminAuthSdk: Auth = {\n  ...implemented,\n  ...notImplemented,\n} as Auth;\n","import { IDictionary } from 'common-types';\nimport {\n  Queue,\n  Schema,\n  Deployment,\n  getFakerLibrary,\n  importFakerLibrary,\n} from '@/mocking';\nimport {\n  Reference,\n  clearDatabase,\n  updateDatabase,\n  restoreEvents,\n  silenceEvents,\n  getDb,\n} from '@/rtdb';\nimport { setNetworkDelay } from '@/util';\nimport { DelayType } from '@/@types';\nimport { auth as fireAuth } from '@/auth';\nimport { clearAuthUsers, initializeAuth } from '@/auth/state-mgmt';\nimport { FireMockError } from '@/errors';\nimport {\n  IRelationship,\n  ISchema,\n  IQueue,\n  SchemaCallback,\n  IMockSetup,\n} from '@/@types';\nimport authProviders from '@/auth/client-sdk/AuthProviders';\nimport type {\n  FirebaseNamespace,\n  IMockAuthConfig,\n  IAdminAuth,\n  IMockConfigOptions,\n  AsyncMockData,\n} from '@forest-fire/types';\nimport { adminAuthSdk } from '@/auth/admin-sdk';\n\n/* tslint:disable:max-classes-per-file */\nexport class Mock {\n  /**\n   * returns a Mock object while also ensuring that the\n   * Faker library has been asynchronously imported.\n   */\n  public static async prepare(\n    options: IMockConfigOptions = {}\n    /**\n     * allows publishing of raw data into the database as the databases\n     * initial state or alternatively to assign a callback function which\n     * will be executed when the Mock DB is \"connecting\" and allows the\n     * DB to be setup via mocking.\n     */\n  ) {\n    const defaultDbConfig = {};\n    await importFakerLibrary();\n    const obj = new Mock(\n      options.db\n        ? typeof options.db === 'function'\n          ? {}\n          : options.db || defaultDbConfig\n        : defaultDbConfig,\n      options.auth\n    );\n    if (typeof options.db === 'function') {\n      obj.updateDB(await (options.db as AsyncMockData)(obj));\n    }\n    return obj;\n  }\n\n  public get db() {\n    return getDb();\n  }\n\n  public get deploy() {\n    return new Deployment();\n  }\n\n  // TODO: should these attributes be removed?\n  private _schemas = new Queue<ISchema>('schemas').clear();\n  private _relationships = new Queue<IRelationship>('relationships').clear();\n  private _queues = new Queue<IQueue>('queues').clear();\n  private _mockInitializer: IMockSetup;\n  private _fakerLoaded: Promise<any>;\n\n  constructor(\n    /**\n     * allows publishing of raw data into the database as the databases\n     * initial state or alternatively to assign a callback function which\n     * will be executed when the Mock DB is \"connecting\" and allows the\n     * DB to be setup via mocking.\n     */\n    dataOrMock?: IDictionary | IMockSetup,\n    authConfig: IMockAuthConfig = {\n      providers: ['anonymous'],\n      users: [],\n    }\n  ) {\n    Queue.clearAll();\n    clearDatabase();\n    clearAuthUsers();\n    if (dataOrMock && typeof dataOrMock === 'object') {\n      this.updateDB(dataOrMock);\n    }\n    if (dataOrMock && typeof dataOrMock === 'function') {\n      this._mockInitializer = dataOrMock(this) as IMockSetup;\n    }\n\n    initializeAuth(authConfig);\n  }\n\n  /**\n   * Update -- _non-desctructively_ -- the mock DB with a JS object/hash\n   */\n  public updateDB(\n    /** the _new_ state that will be updated with the old */\n    stateUpdate: IDictionary,\n    /** optionally clear the DB before applying the update */\n    clearFirst?: boolean\n  ) {\n    if (clearFirst) {\n      clearDatabase();\n    }\n    updateDatabase(stateUpdate);\n  }\n\n  /**\n   * silences the database from sending events;\n   * this is not typically done but can be done\n   * as part of the Mocking process to reduce noise\n   */\n  public silenceEvents() {\n    silenceEvents();\n  }\n\n  /**\n   * returns the database to its default state of sending\n   * events out.\n   */\n  public restoreEvents() {\n    restoreEvents();\n  }\n\n  public async auth() {\n    return fireAuth();\n  }\n\n  public async adminSdk(): Promise<IAdminAuth> {\n    return adminAuthSdk;\n  }\n\n  public get authProviders(): FirebaseNamespace['auth'] {\n    return authProviders;\n  }\n\n  /**\n   * returns an instance static FakerJS libraray\n   */\n  public get faker() {\n    return getFakerLibrary();\n  }\n\n  // /**\n  //  * **getMockHelper**\n  //  *\n  //  * returns a MockHelper class which should always contain\n  //  * access to the faker library off the `faker` property exposed;\n  //  * you can also set some additional `context` where desirable.\n  //  */\n  // public getMockHelper(context?: IDictionary) {\n  //   if (!faker && !faker.address) {\n  //     throw new FireMockError(\n  //       `The Faker library must be loaded before a MockHelper can be returned`,\n  //       \"firemock/faker-not-ready\"\n  //     );\n  //   }\n  //   return new MockHelper(context);\n  // }\n\n  public addSchema<S = any>(schema: string, mock?: SchemaCallback<S>) {\n    return new Schema<S>(schema, mock);\n  }\n\n  /** Set the network delay for queries with \"once\" */\n  public setDelay(d: DelayType) {\n    setNetworkDelay(d);\n  }\n\n  public queueSchema<T = any>(\n    schemaId: string,\n    quantity: number = 1,\n    overrides: IDictionary = {}\n  ) {\n    const d = new Deployment();\n    d.queueSchema(schemaId, quantity, overrides);\n    return d;\n  }\n\n  public generate() {\n    const faker = getFakerLibrary();\n    if (!faker && !faker.address) {\n      throw new FireMockError(\n        `The Faker library must be loaded before you can generate mocked data can be returned`,\n        'firemock/faker-not-ready'\n      );\n    }\n\n    return new Deployment().generate();\n  }\n\n  public ref<T = any>(dbPath: string) {\n    return new Reference<T>(dbPath);\n  }\n}\n","import * as fbKey from 'firebase-key';\n\nimport { IQueue, IRelationship, ISchema } from '@/@types';\nimport { dotNotation, getRandomInt, pluralize } from '@/util';\nimport { first, get, set } from '@/util';\nimport { getDb, setDB } from '@/rtdb';\n\nimport { IDictionary } from 'common-types';\nimport { Queue } from '@/mocking/index';\n\nexport class Deployment {\n  private schemaId: string;\n  private queueId: string;\n  private _queue = new Queue<IQueue>('queue');\n  private _schemas = new Queue<ISchema>('schemas');\n  private _relationships = new Queue<IRelationship>('relationships');\n\n  /**\n   * Queue a schema for deployment to the mock DB\n   */\n  public queueSchema<T = any>(\n    /** A unique reference to the schema being queued for generation */\n    schemaId: string,\n    /** The number of this schema to generate */\n    quantity: number = 1,\n    /** Properties in the schema template which should be overriden with a static value */\n    overrides: Partial<T> = {}\n  ) {\n    this.schemaId = schemaId;\n    this.queueId = fbKey.key();\n    const schema = this._schemas.find(schemaId);\n\n    if (!schema) {\n      console.log(`Schema \"${schema}\" does not exist; will SKIP.`);\n    } else {\n      const newQueueItem = {\n        id: this.queueId,\n        schema: schemaId,\n        prefix: schema.prefix,\n        quantity,\n        overrides,\n      };\n      this._queue.enqueue(newQueueItem);\n    }\n\n    return this;\n  }\n\n  /**\n   * Provides specificity around how many of a given\n   * \"hasMany\" relationship should be fulfilled of\n   * the schema currently being queued.\n   */\n  public quantifyHasMany(targetSchema: string, quantity: number) {\n    const hasMany = this._relationships.filter(\n      (r) => r.type === 'hasMany' && r.source === this.schemaId\n    );\n    const targetted = hasMany.filter((r) => r.target === targetSchema);\n\n    if (hasMany.length === 0) {\n      console.log(\n        `Attempt to quantify \"hasMany\" relationships with schema \"${this.schemaId}\" is not possible; no such relationships exist`\n      );\n    } else if (targetted.length === 0) {\n      console.log(\n        `The \"${targetSchema}\" schema does not have a \"hasMany\" relationship with the \"${this.schemaId}\" model`\n      );\n    } else {\n      const queue = this._queue.find(this.queueId);\n      this._queue.update(this.queueId, {\n        hasMany: {\n          ...queue.hasMany,\n          ...{ [pluralize(targetSchema)]: quantity },\n        },\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * Indicates the a given \"belongsTo\" should be fulfilled with a\n   * valid FK reference when this queue is generated.\n   */\n  public fulfillBelongsTo(targetSchema: string) {\n    const schema = this._schemas.find(this.schemaId);\n    const relationship = first(\n      this._relationships\n        .filter((r) => r.source === this.schemaId)\n        .filter((r) => r.target === targetSchema)\n    );\n\n    const sourceProperty = schema.path();\n    const queue = this._queue.find(this.queueId);\n    this._queue.update(this.queueId, {\n      belongsTo: {\n        ...queue.belongsTo,\n        ...{ [`${targetSchema}Id`]: true },\n      },\n    });\n\n    return this;\n  }\n\n  public generate() {\n    // iterate over each schema that has been queued\n    // for generation\n    this._queue.map((q: IQueue) => {\n      for (let i = q.quantity; i > 0; i--) {\n        this.insertMockIntoDB(q.schema, q.overrides);\n      }\n    });\n\n    this._queue.map((q: IQueue) => {\n      for (let i = q.quantity; i > 0; i--) {\n        this.insertRelationshipLinks(q);\n      }\n    });\n\n    this._queue.clear();\n  }\n\n  /**\n   * Adds in a given record/mock into the mock database\n   */\n  private insertMockIntoDB(schemaId: string, overrides: IDictionary) {\n    const schema: ISchema = this._schemas.find(schemaId);\n    const mock = schema.fn();\n    const path = schema.path();\n    const key = overrides.id || fbKey.key();\n    const dbPath = dotNotation(path) + `.${key}`;\n    const payload =\n      typeof mock === 'object'\n        ? { ...mock, ...overrides }\n        : overrides && typeof overrides !== 'object'\n        ? overrides\n        : mock;\n\n    // set(db, dbPath, payload);\n    setDB(dbPath, payload);\n\n    return key;\n  }\n\n  private insertRelationshipLinks(queue: IQueue) {\n    const relationships = this._relationships.filter(\n      (r) => r.source === queue.schema\n    );\n    const belongsTo = relationships.filter((r) => r.type === 'belongsTo');\n    const hasMany = relationships.filter((r) => r.type === 'hasMany');\n    const db = getDb();\n\n    belongsTo.forEach((r) => {\n      const fulfill =\n        Object.keys(queue.belongsTo || {})\n          .filter((v) => queue.belongsTo[v] === true)\n          .indexOf(r.sourceProperty) !== -1;\n      const source = this._schemas.find(r.source);\n      const target = this._schemas.find(r.target);\n      let getID: () => string;\n\n      if (fulfill) {\n        const mockAvailable = this._schemas.find(r.target) ? true : false;\n        const available = Object.keys(db[pluralize(r.target)] || {});\n        const generatedAvailable = available.length > 0;\n\n        const numChoices = (db[r.target] || []).length;\n        const choice = () =>\n          generatedAvailable\n            ? available[getRandomInt(0, available.length - 1)]\n            : this.insertMockIntoDB(r.target, {});\n\n        getID = () =>\n          mockAvailable\n            ? generatedAvailable\n              ? choice()\n              : this.insertMockIntoDB(r.target, {})\n            : fbKey.key();\n      } else {\n        getID = () => '';\n      }\n\n      const property = r.sourceProperty;\n      const path = source.path();\n      const recordList: IDictionary = get(db, dotNotation(source.path()), {});\n\n      Object.keys(recordList).forEach((key) => {\n        set(db, `${dotNotation(source.path())}.${key}.${property}`, getID());\n      });\n    });\n\n    hasMany.forEach((r) => {\n      const fulfill =\n        Object.keys(queue.hasMany || {}).indexOf(r.sourceProperty) !== -1;\n      const howMany = fulfill ? queue.hasMany[r.sourceProperty] : 0;\n\n      const source = this._schemas.find(r.source);\n      const target = this._schemas.find(r.target);\n      let getID: () => string;\n\n      if (fulfill) {\n        const mockAvailable = this._schemas.find(r.target) ? true : false;\n        const available = Object.keys(db[pluralize(r.target)] || {});\n        const used: string[] = [];\n        const generatedAvailable = available.length > 0;\n        const numChoices = (db[pluralize(r.target)] || []).length;\n\n        const choice = (pool: string[]) => {\n          if (pool.length > 0) {\n            const chosen = pool[getRandomInt(0, pool.length - 1)];\n            used.push(chosen);\n            return chosen;\n          }\n\n          return this.insertMockIntoDB(r.target, {});\n        };\n\n        getID = () =>\n          mockAvailable\n            ? choice(available.filter((a) => used.indexOf(a) === -1))\n            : fbKey.key();\n      } else {\n        getID = () => undefined;\n      }\n\n      const property = r.sourceProperty;\n\n      const path = source.path();\n      const sourceRecords: IDictionary = get(\n        db,\n        dotNotation(source.path()),\n        {}\n      );\n\n      Object.keys(sourceRecords).forEach((key) => {\n        for (let i = 1; i <= howMany; i++) {\n          set(\n            db,\n            `${dotNotation(source.path())}.${key}.${property}.${getID()}`,\n            true\n          );\n        }\n      });\n    });\n  }\n}\n","import { MockHelper } from './index';\nimport type { FakerStatic } from '@forest-fire/types';\nimport { FireMockError } from '@/errors';\n\nlet faker: FakerStatic;\n\n/**\n * **importFakerLibrary**\n *\n * The **faker** library is a key part of effective mocking but\n * it is a large library so we only want to import it when\n * it's required. Calling this _async_ method will ensure that\n * before you're mocking with faker available.\n */\nexport async function importFakerLibrary() {\n  if (!faker) {\n    faker = await import(/* webpackChunkName: \"faker-lib\" */ 'faker');\n  }\n  return faker;\n}\n\n/**\n * Assuming you've already loaded the faker library, this returns the library\n * synchronously\n */\nexport function getFakerLibrary() {\n  if (!faker) {\n    throw new FireMockError(\n      `The faker library has not been loaded yet! Use the importFakerLibrary() directly to ensure this happens first;or altnernatively you can use Mock.prepare().`,\n      'not-ready'\n    );\n  }\n\n  return faker;\n}\n\n/**\n * Returns a Mock Helper object which includes the faker library.\n *\n * **Note:** calling this function will asynchronously load the faker library\n * so that the MockHelper is \"made whole\". This dependency has some heft to it\n * so should be avoided unless needed.\n */\nexport async function getMockHelper(db: any) {\n  faker = await importFakerLibrary();\n  const obj = new MockHelper();\n  return obj;\n}\n","import { IRelationship, ISchema, SchemaCallback } from '@/@types';\nimport { Queue, SchemaHelper } from '@/mocking';\nimport { addException, pluralize } from '@/util';\n\nimport { getFakerLibrary } from './fakerInitialiation';\n\n/**\n * The property that exists on the source scheme as a FK reference\n * to the external schema/entity.\n */\nexport type SourceProperty = string;\n\nexport class Schema<T = any> {\n  private _schemas = new Queue<ISchema>('schemas');\n  private _relationships = new Queue<IRelationship>('relationships');\n\n  constructor(public schemaId: string, mockFn?: SchemaCallback) {\n    if (mockFn) {\n      this.mock(mockFn);\n    }\n  }\n\n  /**\n   * Add a mocking function to be used to generate the schema in mock DB\n   */\n  public mock(cb: SchemaCallback) {\n    this._schemas.enqueue({\n      id: this.schemaId,\n      fn: cb(new SchemaHelper({}, getFakerLibrary())), // TODO: pass in support for DB lookups\n      path: () => {\n        const schema: ISchema = this._schemas.find(this.schemaId);\n        return [\n          schema.prefix,\n          schema.modelName\n            ? pluralize(schema.modelName)\n            : pluralize(this.schemaId),\n        ].join('/');\n      },\n    });\n\n    return this;\n  }\n\n  /**\n   * There are times where it's appropriate to have multiple schemas for\n   * the same entity/model, in this case you'll want to state what model\n   * your schema is emulating. If you don't state this property it assumes\n   * the schema name IS the model name\n   */\n  public modelName(value: string) {\n    this._schemas.update(this.schemaId, { modelName: value });\n    return this;\n  }\n\n  /** prefixes a static path to the beginning of the  */\n  public pathPrefix(prefix: string) {\n    prefix = prefix.replace(/\\./g, '/'); // slash reference preferred over dot\n    prefix =\n      prefix.slice(-1) === '/' ? prefix.slice(0, prefix.length - 1) : prefix;\n\n    this._schemas.update(this.schemaId, { prefix });\n\n    return this;\n  }\n\n  /**\n   * The default pluralizer is quite simple so if you find that\n   * it is pluralizing incorrectly then you can manually state\n   * the plural name.\n   */\n\n  public pluralName(plural: string) {\n    const model = this._schemas.find(this.schemaId).modelName\n      ? this._schemas.find(this.schemaId).modelName\n      : this.schemaId;\n    addException(model, plural);\n    return this;\n  }\n\n  /**\n   * Configures a \"belongsTo\" relationship with another schema/entity\n   */\n  public belongsTo(target: string, sourceProperty?: SourceProperty) {\n    this._relationships.push({\n      type: 'belongsTo',\n      source: this.schemaId,\n      target,\n      sourceProperty: sourceProperty ? sourceProperty : `${target}Id`,\n    });\n\n    return this;\n  }\n\n  /**\n   * Configures a \"hasMany\" relationship with another schema/entity\n   */\n  public hasMany(target: string, sourceProperty?: SourceProperty) {\n    this._relationships.push({\n      type: 'hasMany',\n      source: this.schemaId,\n      target,\n      sourceProperty: sourceProperty ? sourceProperty : pluralize(target),\n    });\n\n    return this;\n  }\n\n  /** Add another schema */\n  public addSchema<D>(schema: string, mock?: SchemaCallback) {\n    const s = new Schema<D>(schema);\n    if (mock) {\n      s.mock(mock);\n    }\n    return new Schema<D>(schema);\n  }\n}\n","import * as fbKey from 'firebase-key';\n\nimport { IDictionary } from 'common-types';\nimport { first } from '@/util';\n\nexport type Key = string | number;\n\n/**\n * Queue Class\n *\n * A generic class for building singleton queues;\n * this is used as a container for schemas, deployment queues,\n * and relationships\n */\nexport class Queue<T = any> {\n  public static clearAll() {\n    Queue._queues = {};\n  }\n  private static _queues: IDictionary = {};\n  public pkProperty = 'id';\n\n  constructor(private _name: string) {\n    if (!_name) {\n      throw new Error('A queue MUST have a named passed in to be managed');\n    }\n\n    if (!Queue._queues[_name]) {\n      Queue._queues[_name] = [] as T[];\n    }\n  }\n\n  public get name() {\n    return this._name;\n  }\n\n  /**\n   * Allows adding another item to the queue. It is expected\n   * that this item WILL have the primary key included ('id' by\n   * default)\n   */\n  public enqueue(queueItem: T) {\n    Queue._queues[this._name].push(queueItem);\n    return this;\n  }\n\n  /**\n   * Similar to enqueue but the primary key is generated and passed\n   * back to the caller.\n   */\n  public push(queueItem: any) {\n    const id = fbKey.key();\n    if (typeof queueItem !== 'object') {\n      throw new Error('Using push() requires that the payload is an object');\n    }\n    queueItem[this.pkProperty] = id;\n    this.enqueue(queueItem);\n\n    return id;\n  }\n\n  /**\n   * By passing in the key you will remove the given item from the queue\n   */\n  public dequeue(key: string | number) {\n    const queue = Queue._queues[this._name];\n    if (queue.length === 0) {\n      throw new Error(`Queue ${this._name} is empty. Can not dequeue ${key}.`);\n    }\n\n    Queue._queues[this._name] =\n      typeof first(queue) === 'object'\n        ? queue.filter((item: any) => item[this.pkProperty] !== key)\n        : queue.filter((item: any) => item !== key);\n\n    return this;\n  }\n\n  public fromArray(payload: T[]) {\n    Queue._queues[this._name] = payload;\n    return this;\n  }\n\n  public clear() {\n    Queue._queues[this._name] = [];\n    return this;\n  }\n\n  public find(key: Key) {\n    const [obj, index] = this._find(key);\n    return obj;\n  }\n\n  public indexOf(key: Key) {\n    const [obj, index] = this._find(key);\n    return index;\n  }\n\n  public includes(key: Key) {\n    return this.find(key) ? true : false;\n  }\n\n  public replace(key: Key, value: any) {\n    value[this.pkProperty] = key;\n    this.dequeue(key).enqueue(value as T);\n\n    return this;\n  }\n\n  public update(key: Key, value: any) {\n    const currently: any = this.find(key);\n    if (currently) {\n      this.dequeue(key);\n    }\n    if (typeof currently === 'object' && typeof value === 'object') {\n      value[this.pkProperty] = key;\n      const updated = { ...(currently as any), ...(value as any) };\n      this.enqueue(updated as T);\n    } else {\n      throw new Error(`Current and updated values must be objects!`);\n    }\n\n    return this;\n  }\n\n  public get length() {\n    return Queue._queues[this._name].length;\n  }\n\n  /** returns the Queue as a JS array */\n  public toArray() {\n    return Queue._queues && Queue._queues[this._name]\n      ? Queue._queues[this._name]\n      : [];\n  }\n\n  /** returns the Queue as a JS Object */\n  public toHash() {\n    const queue = Queue._queues[this._name];\n    if (!queue || queue.length === 0) {\n      return new Object();\n    }\n\n    return typeof first(queue) === 'object'\n      ? queue.reduce((obj: IDictionary, item: any) => {\n          const pk: string = item[this.pkProperty];\n          // tslint:disable-next-line\n          const o = Object.assign({}, item);\n          delete o[this.pkProperty];\n          return { ...obj, ...{ [pk]: o } };\n        }, new Object())\n      : queue.reduce(\n          (obj: IDictionary, item: any) =>\n            (obj = { ...obj, ...{ [item]: true } }),\n          new Object()\n        );\n  }\n\n  public map(fn: (f: any) => any): T[] {\n    const queuedSchemas = Queue._queues[this._name];\n    return queuedSchemas ? (queuedSchemas.map(fn) as T[]) : [];\n  }\n\n  public filter(fn: (f: any) => any) {\n    const queue = Queue._queues[this._name];\n    return queue ? (queue.filter(fn) as T[]) : [];\n  }\n\n  public toJSON() {\n    return JSON.stringify(Queue._queues);\n  }\n\n  public toObject() {\n    return Queue._queues;\n  }\n\n  private _find(key: string | number) {\n    const queue = Queue._queues[this._name];\n    const objectPayload = typeof first(queue) === 'object';\n\n    let index = 0;\n    let result: any[] = [null, -1];\n    for (const item of queue) {\n      const condition = objectPayload\n        ? item[this.pkProperty] === key\n        : item === key;\n      if (condition) {\n        result = [item, index];\n        break;\n      }\n      index++;\n    }\n\n    return result;\n  }\n}\n","import type { FirebaseAuth, ActionCodeInfo } from '@forest-fire/types';\nimport { createError } from 'common-types';\n\nexport const notImplemented: Partial<FirebaseAuth> = {\n  async applyActionCode(code: string) {\n    return;\n  },\n  async checkActionCode(code: string): Promise<ActionCodeInfo> {\n    return {\n      data: {},\n      operation: '',\n    };\n  },\n  // async createUserAndRetrieveDataWithEmailAndPassword(\n  //   email: string,\n  //   password: string\n  // ): Promise<UserCredential> {\n  //   return completeUserCredential({});\n  // },\n\n  // async fetchProvidersForEmail(email: string) {\n  //   return [];\n  // },\n\n  // async signInAnonymouslyAndRetrieveData() {\n  //   return completeUserCredential({});\n  // },\n\n  // async signInAndRetrieveDataWithCustomToken(token: string) {\n  //   return completeUserCredential({});\n  // },\n\n  // async signInAndRetrieveDataWithEmailAndPassword(email: string, password: string) {\n  //   return completeUserCredential({});\n  // },\n\n  async fetchSignInMethodsForEmail() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n  async getRedirectResult() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n  isSignInWithEmailLink() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n  onIdTokenChanged() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n  async sendSignInLinkToEmail() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n\n  async signInAndRetrieveDataWithCredential() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n\n  async signInWithCredential() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n  async signInWithCustomToken() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n  async signInWithEmailLink() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n  async signInWithPhoneNumber() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n  async signInWithPopup() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n  async signInWithRedirect() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n  async useDeviceLanguage() {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n  async verifyPasswordResetCode(code: string) {\n    throw createError(\n      'auth/not-implemented',\n      'This feature is not implemented yet in FireMock auth module'\n    );\n  },\n};\n","import { notImplemented } from './notImplemented';\nimport { implemented } from './implemented';\nimport type { FirebaseAuth } from '@forest-fire/types';\n\n// tslint:disable-next-line:no-object-literal-type-assertion\nexport const authMockApi: FirebaseAuth = {\n  ...notImplemented,\n  ...implemented,\n} as FirebaseAuth;\n"],"names":["slashNotation","Symbol","Map","orderByKey","orderByValue","sortFns.orderByChild","limitFilters.limitToFirst","limitFilters.limitToLast","queryFilters.equalTo","queryFilters.startAt","queryFilters.endAt","hasOwnProperty","isArray","isReactElement","merge","deepmerge","auth","mockedAuth","fbKey","implemented","notImplemented","fireAuth","authProviders","fbKey.key","key"],"mappings":"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"}